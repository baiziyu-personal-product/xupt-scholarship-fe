{"version":3,"file":"index-e34d74ea.js","sources":["../../../node_modules/antd/lib/_util/type.js","../../../node_modules/antd/lib/_util/colors.js","../../../src/pages/dash-board/components/department-card.tsx","../../../src/pages/dash-board/components/handle-chart.card.tsx","../../../src/pages/dash-board/components/process-info-card.tsx","../../../src/pages/dash-board/components/quick-start-card.tsx","../../../src/pages/dash-board/index.tsx"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.tupleNum = exports.tuple = void 0;\n\n// https://stackoverflow.com/questions/46176165/ways-to-get-string-literal-type-of-array-values-without-enum-overhead\nvar tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args;\n};\n\nexports.tuple = tuple;\n\nvar tupleNum = function tupleNum() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args;\n};\n\nexports.tupleNum = tupleNum;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PresetStatusColorTypes = exports.PresetColorTypes = void 0;\n\nvar _type = require(\"./type\");\n\nvar PresetStatusColorTypes = (0, _type.tuple)('success', 'processing', 'error', 'default', 'warning'); // eslint-disable-next-line import/prefer-default-export\n\nexports.PresetStatusColorTypes = PresetStatusColorTypes;\nvar PresetColorTypes = (0, _type.tuple)('pink', 'red', 'yellow', 'orange', 'cyan', 'green', 'blue', 'purple', 'geekblue', 'magenta', 'volcano', 'gold', 'lime');\nexports.PresetColorTypes = PresetColorTypes;","import { cx } from '@/utils';\nimport { Card, Popover, Tag } from 'antd';\nimport { PresetColorTypes } from 'antd/lib/_util/colors';\nimport * as React from 'react';\nimport style from '../style.module.less';\n\nconst DepartmentInfoList: {\n  title: string;\n  email: string;\n  phone: string;\n  addr: string;\n}[] = (new Array(12).fill({\n  title: '校研究生院',\n  email: 'test-email@xupt.edu.cn',\n  phone: '010-443-445',\n  addr: '长安校区东区教学楼D-4443'\n})).map(((item, index) => ({\n  ...item,\n  email: index + item.email,\n  title: index * ('99' as any) + item.title\n})));\n\nconst colors = PresetColorTypes;\nconst colorsLen = colors.length;\n\nconst DepartmentCard: React.FC = () => {\n  return (\n    <Card\n      className={cx(style['info-card'], style['department-card'])}\n      title=\"评审负责部门信息\"\n    >\n      <div className={style['department-list-box']}>\n        {\n          DepartmentInfoList.map((department, index) => (\n            <div key={department.email}>\n              <Popover content={\n                <div>\n                  <p>邮箱：{department.email}</p>\n                  <p>电话：{department.phone}</p>\n                  <p>地址：{department.addr}</p>\n                </div>\n              } title=\"联系方式\">\n                <Tag\n                  color={colors[index % (colorsLen - 1)]}\n                  closable\n                >\n                  {department.title}\n                </Tag>\n              </Popover>\n            </div>\n          ))\n        }\n      </div>\n    </Card>\n  )\n};\n\nexport default DepartmentCard;","import { cx } from '@/utils';\nimport { Card } from 'antd';\nimport * as React from 'react';\nimport style from '../style.module.less';\nimport ReactEcharts from 'echarts-for-react';\n\nconst HandleChartCard: React.FC = () => {\n  const option = {\n    tooltip: {\n      trigger: 'axis',\n      axisPointer: {\n        type: 'cross',\n        crossStyle: {\n          color: '#999'\n        }\n      }\n    },\n    toolbox: {\n      feature: {\n        dataView: { show: true, readOnly: true, title: \"展示数据\" },\n        magicType: { show: true, type: ['line', 'bar']},\n        saveAsImage: { show: true, title: \"保存为图片\" }\n      }\n    },\n    legend: {\n      data: ['水量', '降雨量', '温度']\n    },\n    xAxis: [\n      {\n        type: 'category',\n        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        axisPointer: {\n          type: 'shadow'\n        }\n      }\n    ],\n    yAxis: [\n      {\n        type: 'value',\n        name: '降雨量',\n        min: 0,\n        max: 250,\n        interval: 50,\n        axisLabel: {\n          formatter: '{value} ml'\n        }\n      },\n      {\n        type: 'value',\n        name: '温度',\n        min: 0,\n        max: 25,\n        interval: 5,\n        axisLabel: {\n          formatter: '{value} °C'\n        }\n      }\n    ],\n    series: [\n      {\n        name: '水量',\n        type: 'bar',\n        tooltip: {\n          valueFormatter: function (value: string) {\n            return value + ' ml';\n          }\n        },\n        data: [\n          2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3\n        ]\n      },\n      {\n        name: '降雨量',\n        type: 'bar',\n        tooltip: {\n          valueFormatter: function (value: string) {\n            return value + ' ml';\n          }\n        },\n        data: [\n          2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3\n        ]\n      },\n      {\n        name: '温度',\n        type: 'line',\n        yAxisIndex: 1,\n        tooltip: {\n          valueFormatter: function (value: string) {\n            return value + ' °C';\n          }\n        },\n        data: [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2]\n      }\n    ]\n  };\n  return (\n    <Card\n      className={cx(style['info-card'], style['chart-card'])}\n      title=\"日处理速率\"\n    >\n      <ReactEcharts\n        option={option}\n      />\n    </Card>\n  )\n};\n\nexport default HandleChartCard;","\nimport { cx } from '@/utils';\nimport { Card } from 'antd';\nimport * as React from 'react';\nimport style from '../style.module.less';\n\nconst ProcessInfo:React.FC = () => {\n  return (\n    <Card\n      title=\"流程动态\"\n      className={cx(style['info-card'], style['process-card'])}\n    >\n\n    </Card>\n  )\n};\n\nexport default ProcessInfo;","import { cx } from '@/utils';\nimport * as React from 'react';\nimport style from '../style.module.less';\nimport { getMenus, IMenu } from '@/components/page-nav/menu.config';\nimport { Menu, Card } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { useProcess } from '@/context/process-status';\n\n\n\nconst QuickStart: React.FC = () => {\n  const { process_id } = useProcess();\n  const childMenus = React.useMemo(() => getMenus(process_id).reduce((p, c) => {\n    if (c.children && c.children.length) {\n      p = [...p, ...c.children.map(m => ({\n        ...m,\n        path: c.path + m.path\n      }))];\n    }\n    return p;\n  }, [] as IMenu[]), []);\n  return (\n    <Card\n      title=\"快速开始/便捷导航\"\n      className={cx(style['info-card'], style['quick-card'])}\n    >\n      {\n        childMenus.map(menu => (\n          <Link\n            key={menu.key}\n            to={menu.path}\n          >\n            <Card.Grid\n              className={style['menu-card']}\n            >\n              <div className={style['menu-icon-box']}>\n                {menu.icon}\n              </div>\n              <span className={style['menu-title']}>{menu.title}</span>\n            </Card.Grid>\n          </Link>\n        ))\n      }\n    </Card>\n  )\n};\n\nexport default QuickStart;","import { PageHeaderState, usePageHeaderContext } from '@/context/page-header';\r\nimport { useAuth } from '@/context/auth.context';\r\nimport { Descriptions, Tag } from 'antd';\r\nimport * as React from 'react';\r\nimport DepartmentCard from './components/department-card';\r\nimport HandleChartCard from './components/handle-chart.card';\r\nimport ProcessInfo from './components/process-info-card';\r\nimport QuickStart from './components/quick-start-card';\r\nimport style from './style.module.less';\r\nimport moment from 'moment';\r\n\r\n\r\nconst IdentityMap: Record<IUser['identity'], string> = {\r\n  student: \"学生\",\r\n  manager: \"管理员\",\r\n  'student,manager': \"学生管理员\"\r\n}\r\n\r\nconst DashBoard: React.FC = () => {\r\n  const { updatePageHeaderState } = usePageHeaderContext();\r\n  const { user } = useAuth();\r\n  const HeaderProps = React.useMemo<PageHeaderState>(() => ({\r\n    title: user.name,\r\n    avatar: { src: user.avatar, style: { border: '1px solid #aaa' } },\r\n    subTitle: user.user_id,\r\n    tags: <Tag color=\"geekblue\">{IdentityMap[user.identity] || \"游客\"}</Tag>,\r\n    children: (\r\n      <Descriptions>\r\n        <Descriptions.Item label=\"邮件地址\">{user.email}</Descriptions.Item>\r\n        <Descriptions.Item label=\"联系电话\">{user.phone}</Descriptions.Item>\r\n        <Descriptions.Item label=\"所在部门/学院\">{user.student?.college || user.manager?.department}</Descriptions.Item>\r\n        <Descriptions.Item label=\"具体部门/专业\">{user.student?.professional || user.manager?.office}</Descriptions.Item>\r\n        <Descriptions.Item label=\"班级/职位\">\r\n          {\r\n            user.identity === 'manager'\r\n              ? (user.manager?.position)\r\n              : (moment(user.student?.grade).format(\"YYYY\") + \" 级 \" + user.student?.class + \"班\")\r\n          }\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n    ),\r\n  }), [user]);\r\n\r\n  React.useEffect(() => {\r\n    updatePageHeaderState(HeaderProps);\r\n    return () => updatePageHeaderState({});\r\n  }, [HeaderProps]);\r\n\r\n  return (\r\n    <div className={style['dash-page']}>\r\n      <div className={style['left-row']}>\r\n        <ProcessInfo />\r\n        <HandleChartCard />\r\n      </div>\r\n      <div className={style['right-row']}>\r\n        <QuickStart />\r\n        <DepartmentCard />\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default DashBoard;"],"names":["colors","require$$0","PresetColorTypes","ReactEcharts","React.useMemo"],"mappings":"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"}