{"version":3,"file":"index-f34222be.js","sources":["../../../src/pages/application/pages/application-form/context/application.context.tsx","../../../src/pages/application/pages/application-form/components/form-header.tsx","../../../src/pages/application/pages/application-form/config/academic.config.ts","../../../node_modules/react-motion/lib/mapToZero.js","../../../node_modules/react-motion/lib/stripStyle.js","../../../node_modules/react-motion/lib/stepper.js","../../../node_modules/performance-now/lib/performance-now.js","../../../node_modules/raf/node_modules/performance-now/lib/performance-now.js","../../../node_modules/raf/index.js","../../../node_modules/react-motion/lib/shouldStopAnimation.js","../../../node_modules/react-motion/lib/Motion.js","../../../node_modules/react-motion/lib/StaggeredMotion.js","../../../node_modules/react-motion/lib/mergeDiff.js","../../../node_modules/react-motion/lib/TransitionMotion.js","../../../node_modules/react-motion/lib/presets.js","../../../node_modules/react-motion/lib/spring.js","../../../node_modules/react-motion/lib/reorderKeys.js","../../../node_modules/react-motion/lib/react-motion.js","../../../node_modules/cxs/dist/index.js","../../../node_modules/react-text-loop-next/dist/esm/isEqual.js","../../../node_modules/react-text-loop-next/dist/esm/utils.js","../../../node_modules/react-text-loop-next/dist/esm/TextLoop.js","../../../src/pages/application/pages/application-form/components/empty-form.tsx","../../../src/pages/application/pages/application-form/components/form-list-skeleton.tsx","../../../src/pages/application/pages/application-form/utils/index.tsx","../../../src/utils/_get.tsx","../../../src/utils/dp_clone.tsx","../../../src/utils/get-route-path.ts","../../../src/pages/application/pages/application-form/components/cooperate-form.tsx","../../../src/pages/application/pages/application-form/components/academic-form/components/scientific-form.tsx","../../../src/pages/application/pages/application-form/components/academic-form/components/award-form.tsx","../../../src/pages/application/pages/application-form/components/academic-form/components/dissertation-form.tsx","../../../src/pages/application/pages/application-form/components/academic-form/components/publish-form.tsx","../../../src/pages/application/pages/application-form/hooks/use-score-map.tsx","../../../src/pages/application/pages/application-form/components/academic-form/index.tsx","../../../src/pages/application/pages/application-form/config/moral.config.ts","../../../src/pages/application/pages/application-form/components/moral-form/index.tsx","../../../src/pages/application/pages/application-form/config/practice.config.ts","../../../src/pages/application/pages/application-form/components/practice-form/components/social-form.tsx","../../../src/pages/application/pages/application-form/components/practice-form/components/competition-form.tsx","../../../src/pages/application/pages/application-form/components/practice-form/components/result-form.tsx","../../../src/pages/application/pages/application-form/components/practice-form/index.tsx","../../../src/pages/application/pages/application-form/components/form-anchor.tsx","../../../src/pages/application/pages/application-form/index.tsx"],"sourcesContent":["import { FormInstance } from 'antd';\r\nimport * as React from 'react';\r\n\r\n\r\ninterface ApplicationStore {\r\n  moralForm: FormInstance;\r\n  practiceForm: FormInstance;\r\n  academicForm: FormInstance;\r\n}\r\n\r\nconst ApplicationContext = React.createContext<ApplicationStore>({} as ApplicationStore);\r\n\r\nexport const useApplicationContext = () => React.useContext(ApplicationContext);\r\n\r\ntype IProps = React.PropsWithChildren<{\r\n  moralForm: FormInstance;\r\n  practiceForm: FormInstance;\r\n  academicForm: FormInstance;\r\n}>\r\n\r\nconst ApplicationProvider: React.FC<IProps> = (props) => {\r\n  const { children, moralForm, practiceForm, academicForm } = props;\r\n\r\n  return (\r\n    <ApplicationContext.Provider\r\n      value={{\r\n        practiceForm,\r\n        moralForm,\r\n        academicForm\r\n      }}\r\n    >\r\n      {children}\r\n    </ApplicationContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ApplicationProvider;\r\n\r\n","import { PageHeader, PageHeaderProps, Statistic, Tooltip } from 'antd';\r\nimport * as React from 'react';\r\nimport style from '../style/header.module.less';\r\n\r\ninterface IProps extends PageHeaderProps {\r\n  title: string;\r\n  expectScore: number;\r\n}\r\n\r\nconst FormHeader: React.FC<IProps> = (props) => {\r\n  const { title, expectScore: score, ...resetProps } = props;\r\n  return (\r\n    <PageHeader\r\n      {...resetProps}\r\n      className={style['form-score-header']}\r\n      title={title}\r\n      extra={[\r\n        <Tooltip title=\"估算得分不代表最终得分\">\r\n          <Statistic\r\n            key=\"score\"\r\n            title=\"估算得分\"\r\n            value={score}\r\n          />\r\n        </Tooltip>,\r\n      ]}\r\n    />\r\n  );\r\n};\r\n\r\nFormHeader.defaultProps = {\r\n  expectScore: 0\r\n};\r\n\r\nexport default FormHeader;","import { BaseLevelScoreItem, BaseScoreItem, BaseTypeScoreItem } from './index';\r\n\r\n// 科研项目量化分\r\ntype InnovativeProjects = 'xupt_innovative_major_project' | 'xupt_innovation_key_project' | 'xupt_innovation_general_project'\r\n/**\r\n * 科研项目\r\n */\r\nexport type ScientificScoreItem = BaseScoreItem<\r\n  'national' | 'provincial' | 'bureau' | InnovativeProjects,\r\n  40 | 30 | 20 | 15\r\n>;\r\n\r\nexport const scientificScoreList: ScientificScoreItem[] = [\r\n  {\r\n    title: \"国家级项目\",\r\n    level: 'national',\r\n    score: 30\r\n  },\r\n  {\r\n    title: \"省部级、副省级项目\",\r\n    level: 'provincial',\r\n    score: 20\r\n  },\r\n  {\r\n    title: \"厅局级、横向项目\",\r\n    level: 'bureau',\r\n    score: 15\r\n  },\r\n  {\r\n    title: '西安邮电大学研究生创新基金重大项目',\r\n    level: 'xupt_innovative_major_project',\r\n    score: 40,\r\n  },\r\n  {\r\n    title: '西安邮电大学研究生创新基金重点项目',\r\n    level: 'xupt_innovation_key_project',\r\n    score: 30\r\n  },\r\n  {\r\n    title: '西安邮电大学研究生创新基金一般项目',\r\n    level: 'xupt_innovation_general_project',\r\n    score: 20\r\n  }\r\n];\r\n\r\n// 获奖量化分\r\n\r\nexport type AwardLevelScoreItem = BaseLevelScoreItem<\r\n  'first' | 'second' | 'third',\r\n  1500 | 750 | 300 | 200 | 150 | 100 | 60\r\n>\r\n\r\nexport type AwardScoreItem = BaseTypeScoreItem<\r\n  'provincial' | 'vice_province' | 'society_strength' | 'bureau',\r\n  AwardLevelScoreItem\r\n>\r\n\r\n/**\r\n * 获奖量化分\r\n */\r\nexport const awardScoreList: AwardScoreItem[] = [\r\n  {\r\n    type: 'provincial',\r\n    title: '省部级',\r\n    children: [\r\n      {\r\n        level: 'first',\r\n        title: '一等奖',\r\n        score: 1500\r\n      },\r\n      {\r\n        level: 'second',\r\n        title: '二等奖',\r\n        score: 750\r\n      },\r\n      {\r\n        level: 'third',\r\n        title: '三等奖',\r\n        score: 300\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    type: 'vice_province',\r\n    title: '副省级',\r\n    children: [\r\n      {\r\n        level: 'first',\r\n        title: '一等奖',\r\n        score: 750\r\n      },\r\n      {\r\n        level: 'second',\r\n        title: '二等奖',\r\n        score: 300\r\n      },\r\n      {\r\n        level: 'third',\r\n        title: '三等奖',\r\n        score: 200\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    type: 'society_strength',\r\n    title: '社会力量',\r\n    children: [\r\n      {\r\n        level: 'first',\r\n        title: '一等奖',\r\n        score: 300\r\n      },\r\n      {\r\n        level: 'second',\r\n        title: '二等奖',\r\n        score: 150\r\n      },\r\n      {\r\n        level: 'third',\r\n        title: '三等奖',\r\n        score: 100\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    type: 'bureau',\r\n    title: '厅局级',\r\n    children: [\r\n      {\r\n        level: 'first',\r\n        title: '一等奖',\r\n        score: 150\r\n      },\r\n      {\r\n        level: 'second',\r\n        title: '二等奖',\r\n        score: 100\r\n      },\r\n      {\r\n        level: 'third',\r\n        title: '三等奖',\r\n        score: 60\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n\r\n// 论文\r\n\r\n// 收录(期刊)\r\ntype DissertationPeriodicals = 'SCI_1' | 'SCI_2' | 'SCI_3' | 'SCI_4' | 'CCF_A' | 'CCF_B' | 'CCF_C' | 'EI' | 'XUPT_NATURE' | 'XUPT_A_2021' | 'XUPT_B_2021';\r\n/**\r\n * 论文\r\n */\r\nexport type DissertationScoreItem = BaseScoreItem<\r\n  DissertationPeriodicals,\r\n  500 | 300 | 160 | 120 | 75 | 40 | 20\r\n>;\r\n\r\n\r\nexport const dissertationScoreList: DissertationScoreItem[] = [\r\n  {\r\n    level: 'SCI_1',\r\n    title: 'SCI_1 区收录(期刊)',\r\n    score: 500\r\n  },\r\n  {\r\n    level: 'SCI_2',\r\n    title: 'SCI_2 区收录(期刊)',\r\n    score: 300\r\n  },\r\n  {\r\n    level: 'SCI_3',\r\n    title: 'SCI_3 区收录(期刊)',\r\n    score: 160\r\n  },\r\n  {\r\n    level: 'SCI_4',\r\n    title: 'SCI_4 区收录(期刊)',\r\n    score: 120\r\n  },\r\n  {\r\n    level: 'CCF_A',\r\n    title: 'CCF A 类国际会议',\r\n    score: 160\r\n  },\r\n  {\r\n    level: 'CCF_B',\r\n    title: 'CCF B 类国际会议',\r\n    score: 120\r\n  },\r\n  {\r\n    level: 'CCF_C',\r\n    title: 'CCF C 类国际会议',\r\n    score: 75\r\n  },\r\n  {\r\n    level: 'XUPT_NATURE',\r\n    title: '《西安邮电大学自然科学权威中文学术期刊认定目录》论文',\r\n    score: 160\r\n  },\r\n  {\r\n    level: 'XUPT_A_2021',\r\n    title: '《西安邮电大学硕士研究生高水平期刊目录（2021）》理工类高水平期刊目录中其他 A 类期刊/会议',\r\n    score: 40\r\n  },\r\n  {\r\n    level: 'XUPT_A_2021',\r\n    title: '《西安邮电大学硕士研究生高水平期刊目录（2021）》理工类高水平期刊目录中其他 B 类期刊/会议',\r\n    score: 20\r\n  },\r\n  {\r\n    level: 'EI',\r\n    title: 'EI 收录(期刊)',\r\n    score: 75\r\n  }\r\n];\r\n\r\n// 出版专著\r\n\r\n// 出版社\r\ntype PublishHouse = 'authoritative_press' | 'other_publishers' | 'a_publishing_house'\r\n/**\r\n * 出版\r\n */\r\nexport type PublishScoreItem = BaseScoreItem<\r\n  PublishHouse,\r\n  20 | 10\r\n>;\r\n\r\nexport const publishScoreList: PublishScoreItem[] = [\r\n  {\r\n    level: 'authoritative_press',\r\n    title: '权威出版社',\r\n    score: 20\r\n  },\r\n  {\r\n    level: 'a_publishing_house',\r\n    title: 'A 类出版社',\r\n    score: 20\r\n  },\r\n  {\r\n    level: 'other_publishers',\r\n    title: '其它出版社',\r\n    score: 10\r\n  }\r\n]","\n\n// currently used to initiate the velocity style object to 0\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mapToZero;\n\nfunction mapToZero(obj) {\n  var ret = {};\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      ret[key] = 0;\n    }\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];","\n// turn {x: {val: 1, stiffness: 1, damping: 2}, y: 2} generated by\n// `{x: spring(1, {stiffness: 1, damping: 2}), y: 2}` into {x: 1, y: 2}\n\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = stripStyle;\n\nfunction stripStyle(style) {\n  var ret = {};\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n    ret[key] = typeof style[key] === 'number' ? style[key] : style[key].val;\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];","\n\n// stepper is used a lot. Saves allocation to return the same array wrapper.\n// This is fine and danger-free against mutations because the callsite\n// immediately destructures it and gets the numbers inside without passing the\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = stepper;\n\nvar reusedTuple = [0, 0];\n\nfunction stepper(secondPerFrame, x, v, destX, k, b, precision) {\n  // Spring stiffness, in kg / s^2\n\n  // for animations, destX is really spring length (spring at rest). initial\n  // position is considered as the stretched/compressed position of a spring\n  var Fspring = -k * (x - destX);\n\n  // Damping, in kg / s\n  var Fdamper = -b * v;\n\n  // usually we put mass here, but for animation purposes, specifying mass is a\n  // bit redundant. you could simply adjust k and b accordingly\n  // let a = (Fspring + Fdamper) / mass;\n  var a = Fspring + Fdamper;\n\n  var newV = v + a * secondPerFrame;\n  var newX = x + newV * secondPerFrame;\n\n  if (Math.abs(newV) < precision && Math.abs(newX - destX) < precision) {\n    reusedTuple[0] = destX;\n    reusedTuple[1] = 0;\n    return reusedTuple;\n  }\n\n  reusedTuple[0] = newX;\n  reusedTuple[1] = newV;\n  return reusedTuple;\n}\n\nmodule.exports = exports[\"default\"];\n// array reference around.","// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","\n\n// usage assumption: currentStyle values have already been rendered but it says\n// nothing of whether currentStyle is stale (see unreadPropStyle)\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = shouldStopAnimation;\n\nfunction shouldStopAnimation(currentStyle, style, currentVelocity) {\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n\n    if (currentVelocity[key] !== 0) {\n      return false;\n    }\n\n    var styleValue = typeof style[key] === 'number' ? style[key] : style[key].val;\n    // stepper will have already taken care of rounding precision errors, so\n    // won't have such thing as 0.9999 !=== 1\n    if (currentStyle[key] !== styleValue) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nvar Motion = (function (_React$Component) {\n  _inherits(Motion, _React$Component);\n\n  _createClass(Motion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyle: _propTypes2['default'].objectOf(_propTypes2['default'].number),\n      style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      onRest: _propTypes2['default'].func\n    },\n    enumerable: true\n  }]);\n\n  function Motion(props) {\n    var _this = this;\n\n    _classCallCheck(this, Motion);\n\n    _React$Component.call(this, props);\n    this.wasAnimating = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyle = null;\n\n    this.clearUnreadPropStyle = function (destStyle) {\n      var dirty = false;\n      var _state = _this.state;\n      var currentStyle = _state.currentStyle;\n      var currentVelocity = _state.currentVelocity;\n      var lastIdealStyle = _state.lastIdealStyle;\n      var lastIdealVelocity = _state.lastIdealVelocity;\n\n      for (var key in destStyle) {\n        if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n          continue;\n        }\n\n        var styleValue = destStyle[key];\n        if (typeof styleValue === 'number') {\n          if (!dirty) {\n            dirty = true;\n            currentStyle = _extends({}, currentStyle);\n            currentVelocity = _extends({}, currentVelocity);\n            lastIdealStyle = _extends({}, lastIdealStyle);\n            lastIdealVelocity = _extends({}, lastIdealVelocity);\n          }\n\n          currentStyle[key] = styleValue;\n          currentVelocity[key] = 0;\n          lastIdealStyle[key] = styleValue;\n          lastIdealVelocity[key] = 0;\n        }\n      }\n\n      if (dirty) {\n        _this.setState({ currentStyle: currentStyle, currentVelocity: currentVelocity, lastIdealStyle: lastIdealStyle, lastIdealVelocity: lastIdealVelocity });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // check if we need to animate in the first place\n        var propsStyle = _this.props.style;\n        if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {\n          if (_this.wasAnimating && _this.props.onRest) {\n            _this.props.onRest();\n          }\n\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.wasAnimating = false;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        _this.wasAnimating = true;\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyle = {};\n        var newLastIdealVelocity = {};\n        var newCurrentStyle = {};\n        var newCurrentVelocity = {};\n\n        for (var key in propsStyle) {\n          if (!Object.prototype.hasOwnProperty.call(propsStyle, key)) {\n            continue;\n          }\n\n          var styleValue = propsStyle[key];\n          if (typeof styleValue === 'number') {\n            newCurrentStyle[key] = styleValue;\n            newCurrentVelocity[key] = 0;\n            newLastIdealStyle[key] = styleValue;\n            newLastIdealVelocity[key] = 0;\n          } else {\n            var newLastIdealStyleValue = _this.state.lastIdealStyle[key];\n            var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];\n            for (var i = 0; i < framesToCatchUp; i++) {\n              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              newLastIdealStyleValue = _stepper[0];\n              newLastIdealVelocityValue = _stepper[1];\n            }\n\n            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n            var nextIdealX = _stepper2[0];\n            var nextIdealV = _stepper2[1];\n\n            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n            newLastIdealStyle[key] = newLastIdealStyleValue;\n            newLastIdealVelocity[key] = newLastIdealVelocityValue;\n          }\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyle: newCurrentStyle,\n          currentVelocity: newCurrentVelocity,\n          lastIdealStyle: newLastIdealStyle,\n          lastIdealVelocity: newLastIdealVelocity\n        });\n\n        _this.unreadPropStyle = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  Motion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyle = _props.defaultStyle;\n    var style = _props.style;\n\n    var currentStyle = defaultStyle || _stripStyle2['default'](style);\n    var currentVelocity = _mapToZero2['default'](currentStyle);\n    return {\n      currentStyle: currentStyle,\n      currentVelocity: currentVelocity,\n      lastIdealStyle: currentStyle,\n      lastIdealVelocity: currentVelocity\n    };\n  };\n\n  // it's possible that currentStyle's value is stale: if props is immediately\n  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n  // at 0 (didn't have time to tick and interpolate even once). If we naively\n  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n  // In reality currentStyle should be 400\n\n  Motion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  Motion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyle != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyle);\n    }\n\n    this.unreadPropStyle = props.style;\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  Motion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  Motion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyle);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return Motion;\n})(_react2['default'].Component);\n\nexports['default'] = Motion;\nmodule.exports = exports['default'];\n\n// after checking for unreadPropStyle != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nfunction shouldStopAnimationAll(currentStyles, styles, currentVelocities) {\n  for (var i = 0; i < currentStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], styles[i], currentVelocities[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nvar StaggeredMotion = (function (_React$Component) {\n  _inherits(StaggeredMotion, _React$Component);\n\n  _createClass(StaggeredMotion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].objectOf(_propTypes2['default'].number)),\n      styles: _propTypes2['default'].func.isRequired,\n      children: _propTypes2['default'].func.isRequired\n    },\n    enumerable: true\n  }]);\n\n  function StaggeredMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, StaggeredMotion);\n\n    _React$Component.call(this, props);\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _state = _this.state;\n      var currentStyles = _state.currentStyles;\n      var currentVelocities = _state.currentVelocities;\n      var lastIdealStyles = _state.lastIdealStyles;\n      var lastIdealVelocities = _state.lastIdealVelocities;\n\n      var someDirty = false;\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i];\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              someDirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n            }\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n          }\n        }\n      }\n\n      if (someDirty) {\n        _this.setState({ currentStyles: currentStyles, currentVelocities: currentVelocities, lastIdealStyles: lastIdealStyles, lastIdealVelocities: lastIdealVelocities });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        var destStyles = _this.props.styles(_this.state.lastIdealStyles);\n\n        // check if we need to animate in the first place\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyles = [];\n        var newLastIdealVelocities = [];\n        var newCurrentStyles = [];\n        var newCurrentVelocities = [];\n\n        for (var i = 0; i < destStyles.length; i++) {\n          var destStyle = destStyles[i];\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in destStyle) {\n            if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n              continue;\n            }\n\n            var styleValue = destStyle[key];\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = _this.state.lastIdealStyles[i][key];\n              var newLastIdealVelocityValue = _this.state.lastIdealVelocities[i][key];\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  StaggeredMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n\n    var currentStyles = defaultStyles || styles().map(_stripStyle2['default']);\n    var currentVelocities = currentStyles.map(function (currentStyle) {\n      return _mapToZero2['default'](currentStyle);\n    });\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: currentStyles,\n      lastIdealVelocities: currentVelocities\n    };\n  };\n\n  StaggeredMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  StaggeredMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    this.unreadPropStyles = props.styles(this.state.lastIdealStyles);\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  StaggeredMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  StaggeredMotion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return StaggeredMotion;\n})(_react2['default'].Component);\n\nexports['default'] = StaggeredMotion;\nmodule.exports = exports['default'];\n\n// it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400\n\n// after checking for unreadPropStyles != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","\n\n// core keys merging algorithm. If previous render's keys are [a, b], and the\n// next render's [c, b, d], what's the final merged keys and ordering?\n\n// - c and a must both be before b\n// - b before d\n// - ordering between a and c ambiguous\n\n// this reduces to merging two partially ordered lists (e.g. lists where not\n// every item has a definite ordering, like comparing a and c above). For the\n// ambiguous ordering we deterministically choose to place the next render's\n// item after the previous'; so c after a\n\n// this is called a topological sorting. Except the existing algorithms don't\n// work well with js bc of the amount of allocation, and isn't optimized for our\n// current use-case bc the runtime is linear in terms of edges (see wiki for\n// meaning), which is huge when two lists have many common elements\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mergeDiff;\n\nfunction mergeDiff(prev, next, onRemove) {\n  // bookkeeping for easier access of a key's index below. This is 2 allocations +\n  // potentially triggering chrome hash map mode for objs (so it might be faster\n\n  var prevKeyIndex = {};\n  for (var i = 0; i < prev.length; i++) {\n    prevKeyIndex[prev[i].key] = i;\n  }\n  var nextKeyIndex = {};\n  for (var i = 0; i < next.length; i++) {\n    nextKeyIndex[next[i].key] = i;\n  }\n\n  // first, an overly elaborate way of merging prev and next, eliminating\n  // duplicates (in terms of keys). If there's dupe, keep the item in next).\n  // This way of writing it saves allocations\n  var ret = [];\n  for (var i = 0; i < next.length; i++) {\n    ret[i] = next[i];\n  }\n  for (var i = 0; i < prev.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(nextKeyIndex, prev[i].key)) {\n      // this is called my TM's `mergeAndSync`, which calls willLeave. We don't\n      // merge in keys that the user desires to kill\n      var fill = onRemove(i, prev[i]);\n      if (fill != null) {\n        ret.push(fill);\n      }\n    }\n  }\n\n  // now all the items all present. Core sorting logic to have the right order\n  return ret.sort(function (a, b) {\n    var nextOrderA = nextKeyIndex[a.key];\n    var nextOrderB = nextKeyIndex[b.key];\n    var prevOrderA = prevKeyIndex[a.key];\n    var prevOrderB = prevKeyIndex[b.key];\n\n    if (nextOrderA != null && nextOrderB != null) {\n      // both keys in next\n      return nextKeyIndex[a.key] - nextKeyIndex[b.key];\n    } else if (prevOrderA != null && prevOrderB != null) {\n      // both keys in prev\n      return prevKeyIndex[a.key] - prevKeyIndex[b.key];\n    } else if (nextOrderA != null) {\n      // key a in next, key b in prev\n\n      // how to determine the order between a and b? We find a \"pivot\" (term\n      // abuse), a key present in both prev and next, that is sandwiched between\n      // a and b. In the context of our above example, if we're comparing a and\n      // d, b's (the only) pivot\n      for (var i = 0; i < next.length; i++) {\n        var pivot = next[i].key;\n        if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n          continue;\n        }\n\n        if (nextOrderA < nextKeyIndex[pivot] && prevOrderB > prevKeyIndex[pivot]) {\n          return -1;\n        } else if (nextOrderA > nextKeyIndex[pivot] && prevOrderB < prevKeyIndex[pivot]) {\n          return 1;\n        }\n      }\n      // pluggable. default to: next bigger than prev\n      return 1;\n    }\n    // prevOrderA, nextOrderB\n    for (var i = 0; i < next.length; i++) {\n      var pivot = next[i].key;\n      if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n        continue;\n      }\n      if (nextOrderB < nextKeyIndex[pivot] && prevOrderA > prevKeyIndex[pivot]) {\n        return 1;\n      } else if (nextOrderB > nextKeyIndex[pivot] && prevOrderA < prevKeyIndex[pivot]) {\n        return -1;\n      }\n    }\n    // pluggable. default to: next bigger than prev\n    return -1;\n  });\n}\n\nmodule.exports = exports['default'];\n// to loop through and find a key's index each time), but I no longer care","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _mergeDiff = require('./mergeDiff');\n\nvar _mergeDiff2 = _interopRequireDefault(_mergeDiff);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\n// the children function & (potential) styles function asks as param an\n// Array<TransitionPlainStyle>, where each TransitionPlainStyle is of the format\n// {key: string, data?: any, style: PlainStyle}. However, the way we keep\n// internal states doesn't contain such a data structure (check the state and\n// TransitionMotionState). So when children function and others ask for such\n// data we need to generate them on the fly by combining mergedPropsStyles and\n// currentStyles/lastIdealStyles\nfunction rehydrateStyles(mergedPropsStyles, unreadPropStyles, plainStyles) {\n  // Copy the value to a `const` so that Flow understands that the const won't\n  // change and will be non-nullable in the callback below.\n  var cUnreadPropStyles = unreadPropStyles;\n  if (cUnreadPropStyles == null) {\n    return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n      return {\n        key: mergedPropsStyle.key,\n        data: mergedPropsStyle.data,\n        style: plainStyles[i]\n      };\n    });\n  }\n  return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n    for (var j = 0; j < cUnreadPropStyles.length; j++) {\n      if (cUnreadPropStyles[j].key === mergedPropsStyle.key) {\n        return {\n          key: cUnreadPropStyles[j].key,\n          data: cUnreadPropStyles[j].data,\n          style: plainStyles[i]\n        };\n      }\n    }\n    return { key: mergedPropsStyle.key, data: mergedPropsStyle.data, style: plainStyles[i] };\n  });\n}\n\nfunction shouldStopAnimationAll(currentStyles, destStyles, currentVelocities, mergedPropsStyles) {\n  if (mergedPropsStyles.length !== destStyles.length) {\n    return false;\n  }\n\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (mergedPropsStyles[i].key !== destStyles[i].key) {\n      return false;\n    }\n  }\n\n  // we have the invariant that mergedPropsStyles and\n  // currentStyles/currentVelocities/last* are synced in terms of cells, see\n  // mergeAndSync comment for more info\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], destStyles[i].style, currentVelocities[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n// core key merging logic\n\n// things to do: say previously merged style is {a, b}, dest style (prop) is {b,\n// c}, previous current (interpolating) style is {a, b}\n// **invariant**: current[i] corresponds to merged[i] in terms of key\n\n// steps:\n// turn merged style into {a?, b, c}\n//    add c, value of c is destStyles.c\n//    maybe remove a, aka call willLeave(a), then merged is either {b, c} or {a, b, c}\n// turn current (interpolating) style from {a, b} into {a?, b, c}\n//    maybe remove a\n//    certainly add c, value of c is willEnter(c)\n// loop over merged and construct new current\n// dest doesn't change, that's owner's\nfunction mergeAndSync(willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldLastIdealStyles, oldLastIdealVelocities) {\n  var newMergedPropsStyles = _mergeDiff2['default'](oldMergedPropsStyles, destStyles, function (oldIndex, oldMergedPropsStyle) {\n    var leavingStyle = willLeave(oldMergedPropsStyle);\n    if (leavingStyle == null) {\n      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });\n      return null;\n    }\n    if (_shouldStopAnimation2['default'](oldCurrentStyles[oldIndex], leavingStyle, oldCurrentVelocities[oldIndex])) {\n      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });\n      return null;\n    }\n    return { key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data, style: leavingStyle };\n  });\n\n  var newCurrentStyles = [];\n  var newCurrentVelocities = [];\n  var newLastIdealStyles = [];\n  var newLastIdealVelocities = [];\n  for (var i = 0; i < newMergedPropsStyles.length; i++) {\n    var newMergedPropsStyleCell = newMergedPropsStyles[i];\n    var foundOldIndex = null;\n    for (var j = 0; j < oldMergedPropsStyles.length; j++) {\n      if (oldMergedPropsStyles[j].key === newMergedPropsStyleCell.key) {\n        foundOldIndex = j;\n        break;\n      }\n    }\n    // TODO: key search code\n    if (foundOldIndex == null) {\n      var plainStyle = willEnter(newMergedPropsStyleCell);\n      newCurrentStyles[i] = plainStyle;\n      newLastIdealStyles[i] = plainStyle;\n\n      var velocity = _mapToZero2['default'](newMergedPropsStyleCell.style);\n      newCurrentVelocities[i] = velocity;\n      newLastIdealVelocities[i] = velocity;\n    } else {\n      newCurrentStyles[i] = oldCurrentStyles[foundOldIndex];\n      newLastIdealStyles[i] = oldLastIdealStyles[foundOldIndex];\n      newCurrentVelocities[i] = oldCurrentVelocities[foundOldIndex];\n      newLastIdealVelocities[i] = oldLastIdealVelocities[foundOldIndex];\n    }\n  }\n\n  return [newMergedPropsStyles, newCurrentStyles, newCurrentVelocities, newLastIdealStyles, newLastIdealVelocities];\n}\n\nvar TransitionMotion = (function (_React$Component) {\n  _inherits(TransitionMotion, _React$Component);\n\n  _createClass(TransitionMotion, null, [{\n    key: 'propTypes',\n    value: {\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].number).isRequired\n      })),\n      styles: _propTypes2['default'].oneOfType([_propTypes2['default'].func, _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired\n      }))]).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      willEnter: _propTypes2['default'].func,\n      willLeave: _propTypes2['default'].func,\n      didLeave: _propTypes2['default'].func\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      willEnter: function willEnter(styleThatEntered) {\n        return _stripStyle2['default'](styleThatEntered.style);\n      },\n      // recall: returning null makes the current unmounting TransitionStyle\n      // disappear immediately\n      willLeave: function willLeave() {\n        return null;\n      },\n      didLeave: function didLeave() {}\n    },\n    enumerable: true\n  }]);\n\n  function TransitionMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, TransitionMotion);\n\n    _React$Component.call(this, props);\n    this.unmounting = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _mergeAndSync = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, unreadPropStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n      var mergedPropsStyles = _mergeAndSync[0];\n      var currentStyles = _mergeAndSync[1];\n      var currentVelocities = _mergeAndSync[2];\n      var lastIdealStyles = _mergeAndSync[3];\n      var lastIdealVelocities = _mergeAndSync[4];\n\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i].style;\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n              mergedPropsStyles[i] = {\n                key: mergedPropsStyles[i].key,\n                data: mergedPropsStyles[i].data,\n                style: _extends({}, mergedPropsStyles[i].style)\n              };\n            }\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n            mergedPropsStyles[i].style[key] = styleValue;\n          }\n        }\n      }\n\n      // unlike the other 2 components, we can't detect staleness and optionally\n      // opt out of setState here. each style object's data might contain new\n      // stuff we're not/cannot compare\n      _this.setState({\n        currentStyles: currentStyles,\n        currentVelocities: currentVelocities,\n        mergedPropsStyles: mergedPropsStyles,\n        lastIdealStyles: lastIdealStyles,\n        lastIdealVelocities: lastIdealVelocities\n      });\n    };\n\n    this.startAnimationIfNecessary = function () {\n      if (_this.unmounting) {\n        return;\n      }\n\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // https://github.com/chenglou/react-motion/pull/420\n        // > if execution passes the conditional if (this.unmounting), then\n        // executes async defaultRaf and after that component unmounts and after\n        // that the callback of defaultRaf is called, then setState will be called\n        // on unmounted component.\n        if (_this.unmounting) {\n          return;\n        }\n\n        var propStyles = _this.props.styles;\n        var destStyles = typeof propStyles === 'function' ? propStyles(rehydrateStyles(_this.state.mergedPropsStyles, _this.unreadPropStyles, _this.state.lastIdealStyles)) : propStyles;\n\n        // check if we need to animate in the first place\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities, _this.state.mergedPropsStyles)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var _mergeAndSync2 = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, destStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n        var newMergedPropsStyles = _mergeAndSync2[0];\n        var newCurrentStyles = _mergeAndSync2[1];\n        var newCurrentVelocities = _mergeAndSync2[2];\n        var newLastIdealStyles = _mergeAndSync2[3];\n        var newLastIdealVelocities = _mergeAndSync2[4];\n\n        for (var i = 0; i < newMergedPropsStyles.length; i++) {\n          var newMergedPropsStyle = newMergedPropsStyles[i].style;\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in newMergedPropsStyle) {\n            if (!Object.prototype.hasOwnProperty.call(newMergedPropsStyle, key)) {\n              continue;\n            }\n\n            var styleValue = newMergedPropsStyle[key];\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = newLastIdealStyles[i][key];\n              var newLastIdealVelocityValue = newLastIdealVelocities[i][key];\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities,\n          mergedPropsStyles: newMergedPropsStyles\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  TransitionMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n    var willEnter = _props.willEnter;\n    var willLeave = _props.willLeave;\n    var didLeave = _props.didLeave;\n\n    var destStyles = typeof styles === 'function' ? styles(defaultStyles) : styles;\n\n    // this is special. for the first time around, we don't have a comparison\n    // between last (no last) and current merged props. we'll compute last so:\n    // say default is {a, b} and styles (dest style) is {b, c}, we'll\n    // fabricate last as {a, b}\n    var oldMergedPropsStyles = undefined;\n    if (defaultStyles == null) {\n      oldMergedPropsStyles = destStyles;\n    } else {\n      oldMergedPropsStyles = defaultStyles.map(function (defaultStyleCell) {\n        // TODO: key search code\n        for (var i = 0; i < destStyles.length; i++) {\n          if (destStyles[i].key === defaultStyleCell.key) {\n            return destStyles[i];\n          }\n        }\n        return defaultStyleCell;\n      });\n    }\n    var oldCurrentStyles = defaultStyles == null ? destStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    });\n    var oldCurrentVelocities = defaultStyles == null ? destStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    });\n\n    var _mergeAndSync3 = mergeAndSync(\n    // Because this is an old-style createReactClass component, Flow doesn't\n    // understand that the willEnter and willLeave props have default values\n    // and will always be present.\n    willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldCurrentStyles, // oldLastIdealStyles really\n    oldCurrentVelocities);\n\n    var mergedPropsStyles = _mergeAndSync3[0];\n    var currentStyles = _mergeAndSync3[1];\n    var currentVelocities = _mergeAndSync3[2];\n    var lastIdealStyles = _mergeAndSync3[3];\n    var lastIdealVelocities = _mergeAndSync3[4];\n    // oldLastIdealVelocities really\n\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: lastIdealStyles,\n      lastIdealVelocities: lastIdealVelocities,\n      mergedPropsStyles: mergedPropsStyles\n    };\n  };\n\n  // after checking for unreadPropStyles != null, we manually go set the\n  // non-interpolating values (those that are a number, without a spring\n  // config)\n\n  TransitionMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  TransitionMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    var styles = props.styles;\n    if (typeof styles === 'function') {\n      this.unreadPropStyles = styles(rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.lastIdealStyles));\n    } else {\n      this.unreadPropStyles = styles;\n    }\n\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  TransitionMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unmounting = true;\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  TransitionMotion.prototype.render = function render() {\n    var hydratedStyles = rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.currentStyles);\n    var renderedChildren = this.props.children(hydratedStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return TransitionMotion;\n})(_react2['default'].Component);\n\nexports['default'] = TransitionMotion;\nmodule.exports = exports['default'];\n\n// list of styles, each containing interpolating values. Part of what's passed\n// to children function. Notice that this is\n// Array<ActualInterpolatingStyleObject>, without the wrapper that is {key: ...,\n// data: ... style: ActualInterpolatingStyleObject}. Only mergedPropsStyles\n// contains the key & data info (so that we only have a single source of truth\n// for these, and to save space). Check the comment for `rehydrateStyles` to\n// see how we regenerate the entirety of what's passed to children function\n\n// the array that keeps track of currently rendered stuff! Including stuff\n// that you've unmounted but that's still animating. This is where it lives\n\n// it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = {\n  noWobble: { stiffness: 170, damping: 26 }, // the default, if nothing provided\n  gentle: { stiffness: 120, damping: 14 },\n  wobbly: { stiffness: 180, damping: 12 },\n  stiff: { stiffness: 210, damping: 20 }\n};\nmodule.exports = exports[\"default\"];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = spring;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _presets = require('./presets');\n\nvar _presets2 = _interopRequireDefault(_presets);\n\nvar defaultConfig = _extends({}, _presets2['default'].noWobble, {\n  precision: 0.01\n});\n\nfunction spring(val, config) {\n  return _extends({}, defaultConfig, config, { val: val });\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\nexports['default'] = reorderKeys;\n\nvar hasWarned = false;\n\nfunction reorderKeys() {\n  if (process.env.NODE_ENV === 'development') {\n    if (!hasWarned) {\n      hasWarned = true;\n      console.error('`reorderKeys` has been removed, since it is no longer needed for TransitionMotion\\'s new styles array API.');\n    }\n  }\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequire(obj) { return obj && obj.__esModule ? obj['default'] : obj; }\n\nvar _Motion = require('./Motion');\n\nexports.Motion = _interopRequire(_Motion);\n\nvar _StaggeredMotion = require('./StaggeredMotion');\n\nexports.StaggeredMotion = _interopRequire(_StaggeredMotion);\n\nvar _TransitionMotion = require('./TransitionMotion');\n\nexports.TransitionMotion = _interopRequire(_TransitionMotion);\n\nvar _spring = require('./spring');\n\nexports.spring = _interopRequire(_spring);\n\nvar _presets = require('./presets');\n\nexports.presets = _interopRequire(_presets);\n\nvar _stripStyle = require('./stripStyle');\n\nexports.stripStyle = _interopRequire(_stripStyle);\n\n// deprecated, dummy warning function\n\nvar _reorderKeys = require('./reorderKeys');\n\nexports.reorderKeys = _interopRequire(_reorderKeys);","'use strict';\n\nvar cache = {};\nvar prefix = 'x';\nvar rules = [];\nvar insert = function insert(rule) {\n  return rules.push(rule);\n};\nvar hyph = function hyph(s) {\n  return s.replace(/[A-Z]|^ms/g, '-$&').toLowerCase();\n};\nvar mx = function mx(rule, media) {\n  return media ? media + '{' + rule + '}' : rule;\n};\nvar rx = function rx(cn, prop, val) {\n  return '.' + cn + '{' + hyph(prop) + ':' + val + '}';\n};\nvar noAnd = function noAnd(s) {\n  return s.replace(/&/g, '');\n};\n\nvar parse = function parse(obj) {\n  var child = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var media = arguments[2];\n  return Object.keys(obj).map(function (key) {\n    var val = obj[key];\n    if (val === null) return '';\n    if (typeof val === 'object') {\n      var m2 = /^@/.test(key) ? key : null;\n      var c2 = m2 ? child : child + key;\n      return parse(val, c2, m2 || media);\n    }\n    var _key = key + val + child + media;\n    if (cache[_key]) return cache[_key];\n    var className = prefix + rules.length.toString(36);\n    insert(mx(rx(className + noAnd(child), key, val), media));\n    cache[_key] = className;\n    return className;\n  }).join(' ');\n};\n\nmodule.exports = function () {\n  for (var _len = arguments.length, styles = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n    styles[_key2] = arguments[_key2];\n  }\n\n  return styles.map(function (style) {\n    return parse(style);\n  }).join(' ').trim();\n};\n\nmodule.exports.css = function () {\n  return rules.sort().join('');\n};\n\nmodule.exports.reset = function () {\n  cache = {};\n  while (rules.length) {\n    rules.pop();\n  }\n};\n\nmodule.exports.prefix = function (val) {\n  return prefix = val;\n};\n\nif (typeof document !== 'undefined') {\n  var sheet = document.head.appendChild(document.createElement('style')).sheet;\n  insert = function insert(rule) {\n    rules.push(rule);\n    sheet.insertRule(rule, sheet.cssRules.length);\n  };\n}","const hasElementType = typeof Element !== \"undefined\";\r\nconst hasMap = typeof Map === \"function\";\r\nconst hasSet = typeof Set === \"function\";\r\nconst hasArrayBuffer = typeof ArrayBuffer === \"function\" && !!ArrayBuffer.isView;\r\nfunction equal(a, b) {\r\n    if (a === b)\r\n        return true;\r\n    if (a && b && typeof a == \"object\" && typeof b == \"object\") {\r\n        if (a.constructor !== b.constructor)\r\n            return false;\r\n        let length, i;\r\n        if (Array.isArray(a)) {\r\n            length = a.length;\r\n            if (length != b.length)\r\n                return false;\r\n            for (i = length; i-- !== 0;)\r\n                if (!equal(a[i], b[i]))\r\n                    return false;\r\n            return true;\r\n        }\r\n        let it;\r\n        if (hasMap && a instanceof Map && b instanceof Map) {\r\n            if (a.size !== b.size)\r\n                return false;\r\n            it = a.entries();\r\n            while (!(i = it.next()).done)\r\n                if (!b.has(i.value[0]))\r\n                    return false;\r\n            it = a.entries();\r\n            while (!(i = it.next()).done)\r\n                if (!equal(i.value[1], b.get(i.value[0])))\r\n                    return false;\r\n            return true;\r\n        }\r\n        if (hasSet && a instanceof Set && b instanceof Set) {\r\n            if (a.size !== b.size)\r\n                return false;\r\n            it = a.entries();\r\n            while (!(i = it.next()).done)\r\n                if (!b.has(i.value[0]))\r\n                    return false;\r\n            return true;\r\n        }\r\n        if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\r\n            length = a.byteLength;\r\n            if (length != b.byteLength)\r\n                return false;\r\n            for (i = length; i-- !== 0;)\r\n                if (a[i] !== b[i])\r\n                    return false;\r\n            return true;\r\n        }\r\n        if (a.constructor === RegExp)\r\n            return a.source === b.source && a.flags === b.flags;\r\n        if (a.valueOf !== Object.prototype.valueOf)\r\n            return a.valueOf() === b.valueOf();\r\n        if (a.toString !== Object.prototype.toString)\r\n            return a.toString() === b.toString();\r\n        const keys = Object.keys(a);\r\n        length = keys.length;\r\n        if (length !== Object.keys(b).length)\r\n            return false;\r\n        for (i = length; i-- !== 0;)\r\n            if (!Object.prototype.hasOwnProperty.call(b, keys[i]))\r\n                return false;\r\n        if (hasElementType && a instanceof Element)\r\n            return false;\r\n        for (i = length; i-- !== 0;) {\r\n            if ((keys[i] === \"_owner\" || keys[i] === \"__v\" || keys[i] === \"__o\") &&\r\n                a.$$typeof) {\r\n                continue;\r\n            }\r\n            if (!equal(a[keys[i]], b[keys[i]]))\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    return a !== a && b !== b;\r\n}\r\nexport function isEqual(a, b) {\r\n    try {\r\n        return equal(a, b);\r\n    }\r\n    catch (error) {\r\n        if ((error.message || \"\").match(/stack|recursion/i)) {\r\n            console.warn(\"react-fast-compare cannot handle circular refs\");\r\n            return false;\r\n        }\r\n        throw error;\r\n    }\r\n}\r\n//# sourceMappingURL=isEqual.js.map","const requestAnimFrame = (() => {\r\n    if (typeof window !== \"undefined\") {\r\n        return (window.requestAnimationFrame ||\r\n            window.webkitRequestAnimationFrame ||\r\n            window.mozRequestAnimationFrame ||\r\n            window.oRequestAnimationFrame ||\r\n            window.msRequestAnimationFrame ||\r\n            function cb(callback) {\r\n                window.setTimeout(callback, 1000 / 60);\r\n            });\r\n    }\r\n    return () => {\r\n    };\r\n})();\r\nexport const requestTimeout = function (fn, delay) {\r\n    if (!window.requestAnimationFrame &&\r\n        !window.webkitRequestAnimationFrame &&\r\n        !(window.mozRequestAnimationFrame && window.mozCancelRequestAnimationFrame) &&\r\n        !window.oRequestAnimationFrame &&\r\n        !window.msRequestAnimationFrame) {\r\n        return window.setTimeout(fn, delay);\r\n    }\r\n    const start = new Date().getTime();\r\n    const handle = { value: 0 };\r\n    function loop() {\r\n        const current = new Date().getTime();\r\n        const delta = current - start;\r\n        if (delta >= delay) {\r\n            fn.call(null);\r\n        }\r\n        else {\r\n            handle.value = requestAnimFrame(loop);\r\n        }\r\n    }\r\n    handle.value = requestAnimFrame(loop);\r\n    return handle;\r\n};\r\nexport const clearRequestTimeout = function (handle) {\r\n    return window.cancelAnimationFrame\r\n        ? window.cancelAnimationFrame(handle.value)\r\n        : window.webkitCancelAnimationFrame\r\n            ? window.webkitCancelAnimationFrame(handle.value)\r\n            : window.webkitCancelRequestAnimationFrame\r\n                ? window.webkitCancelRequestAnimationFrame(handle.value)\r\n                : window.mozCancelRequestAnimationFrame\r\n                    ? window.mozCancelRequestAnimationFrame(handle.value)\r\n                    : window.oCancelRequestAnimationFrame\r\n                        ? window.oCancelRequestAnimationFrame(handle.value)\r\n                        : window.msCancelRequestAnimationFrame\r\n                            ? window.msCancelRequestAnimationFrame(handle.value)\r\n                            : clearTimeout(handle);\r\n};\r\n//# sourceMappingURL=utils.js.map","import React from \"react\";\r\nimport { TransitionMotion, spring, } from \"react-motion\";\r\nimport cxs from \"cxs\";\r\nimport { isEqual } from \"./isEqual\";\r\nimport { requestTimeout, clearRequestTimeout } from \"./utils\";\r\nclass TextLoop extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.isUnMounting = false;\r\n        this.tickDelay = 0;\r\n        this.tickLoop = 0;\r\n        this.wordBox = null;\r\n        this.willLeave = () => {\r\n            const { height } = this.getDimensions();\r\n            return {\r\n                opacity: spring(this.getOpacity(), this.props.springConfig),\r\n                translate: spring(-height, this.props.springConfig),\r\n            };\r\n        };\r\n        this.willEnter = () => {\r\n            const { height } = this.getDimensions();\r\n            return {\r\n                opacity: this.getOpacity(),\r\n                translate: height,\r\n            };\r\n        };\r\n        this.tick = () => {\r\n            if (!this.isUnMounting) {\r\n                this.setState((state, props) => {\r\n                    const currentWordIndex = (state.currentWordIndex + 1) % state.elements.length;\r\n                    const currentEl = state.elements[currentWordIndex];\r\n                    const updatedState = {\r\n                        currentWordIndex,\r\n                        currentEl,\r\n                        wordCount: (state.wordCount + 1) % 1000,\r\n                        currentInterval: Array.isArray(props.interval)\r\n                            ? props.interval[currentWordIndex % props.interval.length]\r\n                            : props.interval,\r\n                    };\r\n                    if (props.onChange) {\r\n                        props.onChange(updatedState);\r\n                    }\r\n                    return updatedState;\r\n                }, () => {\r\n                    if (this.state.currentInterval > 0) {\r\n                        this.clearTimeouts();\r\n                        this.tickLoop = requestTimeout(this.tick, this.state.currentInterval);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        this.wrapperStyles = cxs(Object.assign(Object.assign({}, (this.props.mask && { overflow: \"hidden\" })), {\r\n            display: \"inline-block\",\r\n            position: \"relative\",\r\n            verticalAlign: \"top\",\r\n        }));\r\n        this.elementStyles = cxs({\r\n            display: \"inline-block\",\r\n            left: 0,\r\n            top: 0,\r\n            whiteSpace: this.props.noWrap ? \"nowrap\" : \"normal\",\r\n        });\r\n        const elements = React.Children.toArray(props.children);\r\n        this.state = {\r\n            elements,\r\n            currentEl: elements[0],\r\n            currentWordIndex: 0,\r\n            wordCount: 0,\r\n            currentInterval: Array.isArray(props.interval)\r\n                ? props.interval[0]\r\n                : props.interval,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        const { delay } = this.props;\r\n        const { currentInterval, elements } = this.state;\r\n        if (currentInterval > 0 && elements.length > 1) {\r\n            this.tickDelay = requestTimeout(() => {\r\n                this.tickLoop = requestTimeout(this.tick, currentInterval);\r\n            }, delay);\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { interval, children, delay } = this.props;\r\n        const { currentWordIndex } = this.state;\r\n        const currentInterval = Array.isArray(interval)\r\n            ? interval[currentWordIndex % interval.length]\r\n            : interval;\r\n        if (prevState.currentInterval !== currentInterval) {\r\n            this.clearTimeouts();\r\n            if (currentInterval > 0 && React.Children.count(children) > 1) {\r\n                this.tickDelay = requestTimeout(() => {\r\n                    this.tickLoop = requestTimeout(this.tick, currentInterval);\r\n                }, delay);\r\n            }\r\n            else {\r\n                this.setState((state, props) => {\r\n                    const { currentWordIndex: _currentWordIndex } = state;\r\n                    return {\r\n                        currentInterval: Array.isArray(props.interval)\r\n                            ? props.interval[_currentWordIndex % props.interval.length]\r\n                            : props.interval,\r\n                    };\r\n                });\r\n            }\r\n        }\r\n        if (!isEqual(prevProps.children, children)) {\r\n            this.setState({\r\n                elements: React.Children.toArray(children),\r\n            });\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this.isUnMounting = true;\r\n        this.clearTimeouts();\r\n    }\r\n    clearTimeouts() {\r\n        if (this.tickLoop != null) {\r\n            clearRequestTimeout(this.tickLoop);\r\n        }\r\n        if (this.tickDelay != null) {\r\n            clearRequestTimeout(this.tickDelay);\r\n        }\r\n    }\r\n    getOpacity() {\r\n        return this.props.fade ? 0 : 1;\r\n    }\r\n    getDimensions() {\r\n        if (this.wordBox == null) {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n            };\r\n        }\r\n        return this.wordBox.getBoundingClientRect();\r\n    }\r\n    getTransitionMotionStyles() {\r\n        const { springConfig } = this.props;\r\n        const { wordCount, currentEl } = this.state;\r\n        return [\r\n            {\r\n                key: `step-${wordCount}`,\r\n                data: {\r\n                    currentEl,\r\n                },\r\n                style: {\r\n                    opacity: spring(1, springConfig),\r\n                    translate: spring(0, springConfig),\r\n                },\r\n            },\r\n        ];\r\n    }\r\n    render() {\r\n        const { className = \"\" } = this.props;\r\n        return (React.createElement(\"div\", { className: `${this.wrapperStyles} ${className}` },\r\n            React.createElement(TransitionMotion, { willLeave: this.willLeave, willEnter: this.willEnter, styles: this.getTransitionMotionStyles() }, (interpolatedStyles) => {\r\n                const { height, width } = this.getDimensions();\r\n                const parsedWidth = this.wordBox == null ? \"auto\" : width;\r\n                const parsedHeight = this.wordBox == null ? \"auto\" : height;\r\n                return (React.createElement(\"div\", { style: {\r\n                        transition: `width ${this.props.adjustingSpeed}ms linear`,\r\n                        height: parsedHeight,\r\n                        width: parsedWidth,\r\n                    } }, interpolatedStyles.map((config) => (React.createElement(\"div\", { className: this.elementStyles, ref: (n) => {\r\n                        this.wordBox = n;\r\n                    }, key: config.key, style: {\r\n                        opacity: config.style.opacity,\r\n                        transform: `translateY(${config.style.translate}px)`,\r\n                        position: this.wordBox == null ? \"relative\" : \"absolute\",\r\n                    } }, config.data.currentEl)))));\r\n            })));\r\n    }\r\n}\r\nTextLoop.defaultProps = {\r\n    interval: 3000,\r\n    delay: 0,\r\n    adjustingSpeed: 150,\r\n    springConfig: { stiffness: 340, damping: 30 },\r\n    fade: true,\r\n    mask: false,\r\n    noWrap: true,\r\n};\r\nexport default TextLoop;\r\n//# sourceMappingURL=TextLoop.js.map","import { Card, Empty } from 'antd';\r\nimport * as React from 'react';\r\n\r\ninterface IProps {\r\n  title: string;\r\n}\r\n\r\nconst EmptyForm: React.FC<IProps> = (props) => {\r\n  return (\r\n    <Card>\r\n      <Empty\r\n        image=\"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg\"\r\n        imageStyle={{\r\n          height: 60,\r\n        }}\r\n        description={`无${props.title}`}\r\n      >\r\n      </Empty>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default EmptyForm;","/**\r\n * list表单骨架\r\n * 使用Card进行表单划分\r\n * 支持表单list的增删\r\n * 支持进行表单的alert的控制展示\r\n */\r\nimport * as React from 'react';\r\nimport { Alert, Button, Card, Form, Popover } from 'antd';\r\nimport { DeleteOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { FormListFieldData, FormListProps } from 'antd/lib/form/FormList';\r\nimport { TextLoop } from 'react-text-loop-next';\r\nimport EmptyForm from './empty-form';\r\n\r\ntype IProps = {\r\n  listId?: string;\r\n  name: FormListProps['name'];\r\n  title: string;\r\n  itemTitle: string;\r\n  alertMessage?: string | string[];\r\n  children: (field: FormListFieldData) => React.ReactNode;\r\n}\r\n\r\nconst FormListSkeleton: React.FC<IProps> = (props) => {\r\n  const {\r\n    alertMessage, listId, title,\r\n    itemTitle, name, children, ...resetProps\r\n  } = props;\r\n\r\n  const AlertMessage = React.useMemo(() => (\r\n    typeof alertMessage === 'string' ? alertMessage : (\r\n      <TextLoop\r\n        mask\r\n        children={alertMessage}\r\n      />\r\n    )\r\n  ), [alertMessage]);\r\n\r\n  const template = React.useMemo(() => {\r\n    return (\r\n      <ol style={{\r\n        padding: '4px 6px',\r\n      }}>\r\n        {\r\n          Array.isArray(alertMessage)\r\n            ? alertMessage.map(msg => <li key={msg}>{msg}</li>)\r\n            : alertMessage\r\n        }\r\n      </ol>\r\n    );\r\n  }, [alertMessage])\r\n\r\n  return (\r\n    <Card\r\n      title={title}\r\n      id={listId}>\r\n      {\r\n        !!alertMessage && (\r\n          <Popover content={template} title=\"注意事项\">\r\n            <Alert\r\n              type=\"info\"\r\n              showIcon\r\n              message={AlertMessage}\r\n              style={{\r\n                overflow: 'hidden',\r\n                textOverflow: 'ellipsis'\r\n              }}\r\n            />\r\n          </Popover>\r\n        )\r\n      }\r\n      <Form.List\r\n        {...resetProps}\r\n        name={name}\r\n      >\r\n        {\r\n          (fields, { add, remove }) => {\r\n            return (\r\n              <React.Fragment>\r\n                {\r\n                  !fields.length\r\n                    ? (\r\n                      <EmptyForm\r\n                        title={itemTitle}\r\n                      />\r\n                    )\r\n                    : fields.map(field => {\r\n                      return (\r\n                        <Card\r\n                          title={`${itemTitle} ${field.name + 1}`}\r\n                          type=\"inner\"\r\n                          key={field.name}\r\n                          extra={\r\n                            <Button\r\n                              type=\"primary\"\r\n                              danger\r\n                              shape=\"circle\"\r\n                              onClick={() => remove(field.name)}\r\n                              icon={<DeleteOutlined />}\r\n                              size=\"small\"\r\n                            />\r\n                          }\r\n                        >\r\n                          {children(field)}\r\n                        </Card>\r\n                      )\r\n                    })\r\n                }\r\n                <Button\r\n                  type=\"dashed\"\r\n                  onClick={() => add()}\r\n                  block\r\n                  icon={<PlusOutlined />}\r\n                >\r\n                  添加{itemTitle}\r\n                </Button>\r\n              </React.Fragment>\r\n            )\r\n          }\r\n        }\r\n      </Form.List >\r\n    </Card>\r\n  )\r\n};\r\n\r\nexport default FormListSkeleton;","/**\r\n * 获取合作项目的得分情况\r\n * @param order 个人在团队中排名\r\n * @param partners 总合作人数\r\n */\r\nexport const getCooperationScore = (order: number = 1, partners: number = 1): number => {\r\n  const fixedScore = [0.12, 0.08, 0.05];\r\n  const fixedFirstStartScore = 0.65;\r\n  //输入数据错误\r\n  if (order > partners || order < 1 || partners < 1) return 0;\r\n  // 如果只有一个人，占比是1\r\n  if (order === 1 && partners === 1) return 1;\r\n  // 如果五个人内，第2，3，4名的得分占比始终固定\r\n  if (order > 2 && order < 5) return fixedScore[order - 3];\r\n  // 排序为1并且合作人数超过两个\r\n  if (order === 1) {\r\n    const value = fixedFirstStartScore - 0.05 * (partners - 2);\r\n    return value >= 0.5 ? value : 0.5\r\n  }\r\n  // 第二名在人数增加到四人后维持在25%\r\n  if (order === 2 && partners > 3) return 0.25;\r\n\r\n  if (order === 2) {\r\n    if (partners === 2) {\r\n      return 0.35;\r\n    } else {\r\n      return 0.28;\r\n    }\r\n  }\r\n  //合作人数超过 5 人，第 5 及以后完成人平均分配 5％工作量。\r\n  return +(fixedScore[2] / (partners - 4)).toFixed(4);\r\n}","const _get = (source: any, path: string, defaultValue = undefined) => {\r\n  // a[3].b -> a.3.b -> [a,3,b]\r\n  const paths = path.replace(/\\[(\\d+)\\]/g, \".$1\").split('.')\r\n  \r\n  let result = source;\r\n  for (const key of paths) {\r\n    result = Object(result)[key];\r\n    if(result === undefined) {\r\n      return defaultValue;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n\r\nexport default _get;","function deepCopy(obj: any, hash = new WeakMap()) {\r\n  if (hash.has(obj)) {\r\n    return obj;\r\n  }\r\n  let res = null;\r\n  const reference = [Date, RegExp, Set, WeakSet, Map, WeakMap, Error];\r\n  if (reference.includes(obj?.constructor)) {\r\n    res = new obj.constructor(obj);\r\n  } else if (Array.isArray(obj)) {\r\n    res = [];\r\n    obj.forEach((e, i) => {\r\n      res[i] = deepCopy(e);\r\n    });\r\n\r\n  } else if (typeof obj === 'object' && obj !== null) {\r\n\r\n    res = {};\r\n\r\n    for (const key in obj) {\r\n\r\n      if (Object.hasOwnProperty.call(obj, key)) {\r\n        (res as any)[key] = deepCopy(obj[key]);\r\n      }\r\n    }\r\n    hash.set(obj, res);\r\n  } else {\r\n    res = obj;\r\n  }\r\n  return res;\r\n\r\n}\r\n\r\n\r\nexport default deepCopy;","/**\n * 获取完整route path\n * @param path 路径\n * @param args route参数\n */\nconst getRoutePath = (path: string, ...args: any[]) => {\n  return ['',...path.split('/').filter(v => v !== ''), ...args].join('/')\n}\n\nexport default getRoutePath;","/**\r\n * 合作信息表单\r\n */\r\nimport * as React from 'react';\r\nimport { Form, InputNumber, Space, Statistic, Tag } from 'antd';\r\nimport { FormListFieldData } from 'antd/lib/form/FormList';\r\nimport { getCooperationScore } from '../utils';\r\nimport * as U from '@/utils';\r\nimport { requiredRule } from '@/config/form';\r\n\r\ninterface IProps {\r\n  field: FormListFieldData;\r\n}\r\n\r\nexport interface CooperateFormValue {\r\n  order: number;\r\n  partners: number;\r\n}\r\n\r\nconst CooperateForm: React.FC<IProps> = (props) => {\r\n  const { field, ...resetProps } = props;\r\n  const [cooperateValue, setCooperateValue] = React.useState<CooperateFormValue>({\r\n    order: 1,\r\n    partners: 1,\r\n  })\r\n\r\n  const proportion = React.useMemo(() =>\r\n    getCooperationScore(cooperateValue.order, cooperateValue.partners),\r\n    [cooperateValue])\r\n\r\n  const updateCooperateValue = (key: keyof CooperateFormValue, value: number) => {\r\n    const prev: CooperateFormValue = U.clone(cooperateValue);\r\n    prev[key] = value;\r\n    setCooperateValue(prev);\r\n  }\r\n\r\n  return (\r\n    <Form.Item\r\n      label=\"合作信息\"\r\n      {...resetProps}\r\n    >\r\n      <Space wrap>\r\n\r\n        <Form.Item\r\n          noStyle\r\n          name={[field.name, \"order\"]}\r\n          rules={requiredRule}\r\n        >\r\n          <InputNumber\r\n            addonBefore=\"个人贡献名次\"\r\n            addonAfter=\"名\"\r\n            min={1}\r\n            onChange={(v) => updateCooperateValue('order', v)}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name={[field.name, \"partners\"]}\r\n          noStyle\r\n          rules={requiredRule}\r\n        >\r\n          <InputNumber\r\n            addonBefore=\"团队人数\"\r\n            addonAfter=\"人\"\r\n            min={1}\r\n            onChange={(v) => updateCooperateValue('partners', v)}\r\n          />\r\n        </Form.Item>\r\n        <Statistic value={proportion * 100} suffix=\"%\" precision={2} />\r\n      </Space>\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nexport default CooperateForm;","/**\r\n * 科研项目量化分表单\r\n */\r\nimport { FormItemProps, Form, Select, Input, DatePicker, Space, InputNumber } from 'antd';\r\nimport * as C from '../../../config/academic.config';\r\nimport * as React from 'react';\r\nimport { disabledFormCurrentDate, requiredRule } from '@/config/form';\r\nimport FormListSkeleton from '../../form-list-skeleton';\r\nimport moment from 'moment';\r\nimport { RangePickerProps } from 'antd/lib/date-picker/generatePicker';\r\nimport CooperateForm, { CooperateFormValue } from '../../cooperate-form';\r\nimport { UploadFile } from 'antd/lib/upload/interface';\r\nimport UploadDragger from '@/components/upload-file';\r\nimport { FORMAT_DATE } from '@/config/time';\r\nimport FmtDatePicker from '@/components/fmt-date-picker';\r\n\r\ninterface IProps extends FormItemProps {\r\n\r\n}\r\n\r\nexport interface ScientificFormValue extends CooperateFormValue {\r\n  level: C.ScientificScoreItem['level'];\r\n  name: string;\r\n  time: RangePickerProps<moment.MomentInput>['value'];\r\n  funds_actually_received: number;\r\n  funds_due: number;\r\n  distribute: number;\r\n  files: UploadFile[];\r\n}\r\n\r\nexport const scientificDefaultFormValue: ScientificFormValue = {\r\n  level: 'bureau',\r\n  name: '',\r\n  time: [FORMAT_DATE, FORMAT_DATE],\r\n  order: 1,\r\n  partners: 1,\r\n  distribute: 0,\r\n  funds_due: 0,\r\n  funds_actually_received: 0,\r\n  files: []\r\n};\r\n\r\n/**\r\n * 是否是经费项目\r\n */\r\nconst isPaymentProject = (level: C.ScientificScoreItem['level']) =>\r\n  [\"national\", \"provincial\", \"bureau\"].includes(level);\r\n\r\n\r\n\r\nconst ScientificForm: React.FC<IProps> = (props) => {\r\n\r\n  const scientificOptions = React.useMemo(() => C.scientificScoreList.map(item => ({\r\n    label: `${item.title} 『分数：${item.score}分』`,\r\n    value: item.level,\r\n    score: item.score\r\n  })), []);\r\n\r\n  return (\r\n    <FormListSkeleton\r\n      title=\"科研项目\"\r\n      name=\"scientific\"\r\n      itemTitle=\"项目\"\r\n      listId=\"academic-form-scientific\"\r\n      alertMessage={\r\n        [\r\n          '每名学生参加教师科研项目量化分总计不超过 1 篇 SCI 2 区收录(期刊)的标准',\r\n          '学校提供的配套经费一律不计分',\r\n          '西安邮电大学研究生创新基金项目，研究生必须为主持人（参与人不计分）'\r\n        ]\r\n      }\r\n    >\r\n      {\r\n        (field) => (\r\n          <React.Fragment>\r\n            <Form.Item\r\n              label=\"项目类型\"\r\n              name={[field.name, \"level\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <Select\r\n                options={scientificOptions}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"项目名称\"\r\n              name={[field.name, \"name\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"项目时间\"\r\n              name={[field.name, \"time\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <FmtDatePicker\r\n                type=\"range\"\r\n                disabledDate={disabledFormCurrentDate}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"项目经费\"\r\n            >\r\n              <Space wrap>\r\n                <Form.Item\r\n                  noStyle\r\n                  name={[field.name, \"funds_actually_received\"]}\r\n                  rules={requiredRule}\r\n                >\r\n                  <InputNumber\r\n                    addonBefore=\"实到经费\"\r\n                    addonAfter=\"万元\"\r\n                    placeholder=\"实际到款\"\r\n                    min={0}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item\r\n                  noStyle\r\n                  name={[field.name, \"funds_due\"]}\r\n                  rules={requiredRule}\r\n                >\r\n                  <InputNumber\r\n                    addonBefore=\"应到经费\"\r\n                    addonAfter=\"万元\"\r\n                    placeholder=\"预期到款\"\r\n                    min={0}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item\r\n                  name={[field.name, \"distribute\"]}\r\n                  noStyle\r\n                  rules={requiredRule}\r\n                >\r\n                  <InputNumber\r\n                    addonBefore=\"本人分配\"\r\n                    addonAfter=\"万元\"\r\n                    min={0}\r\n                  />\r\n                </Form.Item>\r\n              </Space>\r\n            </Form.Item>\r\n            <CooperateForm\r\n              field={field}\r\n            />\r\n            <UploadDragger\r\n              formProps={{\r\n                label: \"文件\",\r\n                name: [field.name, \"files\"]\r\n              }}\r\n            />\r\n          </React.Fragment>\r\n        )\r\n      }\r\n    </FormListSkeleton>\r\n  )\r\n};\r\n\r\nexport default ScientificForm;","/**\r\n * 获奖信息表\r\n */\r\nimport UploadDragger from '@/components/upload-file';\r\nimport { disabledFormCurrentDate, requiredRule } from '@/config/form';\r\nimport { DATE_FORMAT_NORMAL, FORMAT_DATE } from '@/config/time';\r\nimport { Cascader, DatePickerProps, Form, Input } from 'antd';\r\nimport FmtDatePicker from '@/components/fmt-date-picker';\r\nimport { UploadFile } from 'antd/lib/upload/interface';\r\nimport * as React from 'react';\r\nimport * as C from '../../../config/academic.config';\r\nimport FormListSkeleton from '../../form-list-skeleton';\r\n\r\nexport interface AwardFormValue {\r\n  level: [C.AwardScoreItem['type'], C.AwardLevelScoreItem['level']] | [];\r\n  name: string;\r\n  time: DatePickerProps['value'];\r\n  files: UploadFile[];\r\n}\r\n\r\nexport const awardDefaultFormValue: AwardFormValue = {\r\n  level: [],\r\n  name: '',\r\n  time: FORMAT_DATE,\r\n  files: [],\r\n}\r\n\r\nconst AwardForm: React.FC = () => {\r\n\r\n  const awardOptions = React.useMemo(() => C.awardScoreList.map(item => ({\r\n    label: item.title,\r\n    value: item.type,\r\n    children: item.children.map(item => ({\r\n      label: `${item.title} 『${item.score}分』`,\r\n      value: item.level,\r\n      score: item.score\r\n    }))\r\n  })), []);\r\n\r\n  return (\r\n    <FormListSkeleton\r\n      name=\"award\"\r\n      title=\"荣获奖项\"\r\n      itemTitle=\"奖项\"\r\n      listId=\"academic-form-award\"\r\n      alertMessage={[\r\n        '社会力量奖以国家科学技术奖励办公室的公告为准',\r\n        '具有国家级成果奖励申报资格的权威协会获奖，按相应的省部级奖励对待'\r\n      ]}\r\n    >\r\n      {\r\n        field => (\r\n          <React.Fragment>\r\n            <Form.Item\r\n              label=\"奖项类别\"\r\n              rules={requiredRule}\r\n              name={[field.name, \"level\"]}\r\n            >\r\n              <Cascader\r\n                options={awardOptions}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"奖项具名\"\r\n              rules={requiredRule}\r\n              name={[field.name, \"name\"]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"获奖时间\"\r\n              rules={requiredRule}\r\n              name={[field.name, \"time\"]}\r\n            >\r\n              <FmtDatePicker\r\n                disabledDate={disabledFormCurrentDate}\r\n                format={DATE_FORMAT_NORMAL}\r\n              />\r\n            </Form.Item>\r\n            <UploadDragger\r\n              formProps={{\r\n                label: \"文件\",\r\n                name: [field.name, \"files\"]\r\n              }}\r\n            />\r\n          </React.Fragment>\r\n        )\r\n      }\r\n    </FormListSkeleton>\r\n  );\r\n};\r\n\r\nexport default AwardForm;\r\n\r\n","/**\r\n * 公开发表论文表单\r\n */\r\nimport { FormItemProps, Form, Select, Input,  DatePickerProps } from 'antd';\r\nimport * as C from '../../../config/academic.config';\r\nimport * as React from 'react';\r\nimport { disabledFormCurrentDate, requiredRule } from '@/config/form';\r\nimport FormListSkeleton from '../../form-list-skeleton';\r\nimport { UploadFile } from 'antd/lib/upload/interface';\r\nimport UploadDragger from '@/components/upload-file';\r\nimport { FORMAT_DATE } from '@/config/time';\r\nimport FmtDatePicker from '@/components/fmt-date-picker';\r\n\r\ninterface IProps extends FormItemProps {\r\n\r\n}\r\n\r\nexport interface DissertationFormValue {\r\n  level: C.DissertationScoreItem['level'];\r\n  name: string;\r\n  id_number: string;\r\n  time: DatePickerProps['value'];\r\n  files: UploadFile[];\r\n}\r\n\r\nexport const dissertationDefaultFormValue: DissertationFormValue = {\r\n  level: 'CCF_A',\r\n  name: '',\r\n  time: FORMAT_DATE,\r\n  id_number: '',\r\n  files: []\r\n};\r\n\r\nconst DissertationForm: React.FC<IProps> = (props) => {\r\n\r\n  const scientificOptions = React.useMemo(() => C.dissertationScoreList.map(item => ({\r\n    label: `${item.title} 『分数：${item.score}分』`,\r\n    value: item.level,\r\n    score: item.score\r\n  })), []);\r\n\r\n  return (\r\n    <FormListSkeleton\r\n      title=\"公开发表论文\"\r\n      name=\"dissertation\"\r\n      itemTitle=\"论文\"\r\n      listId=\"academic-form-dissertation\"\r\n      alertMessage={\r\n        [\r\n          '论文要求研究生为第一作者，或者研究生为第二作者，导师为第一作者',\r\n          'SCI 分区以中科院大类分区为准',\r\n          '中文核心期刊以北京大学出版社出版的《中文核心期刊要目总览》最新目录为准',\r\n          '论文指以西安邮电大学为第一单位',\r\n          '同一篇论文不重复计算，只按最高类别计分',\r\n          '论文必须刊载于国内外正式出版物（不含增刊、专刊）',\r\n          '进入 ESI 计算机科学学科领域 ESI 数据库收录期刊目录中的论文，其分区升一级别认定'\r\n        ]\r\n      }\r\n    >\r\n      {\r\n        (field) => (\r\n          <React.Fragment>\r\n            <Form.Item\r\n              label=\"期刊类型\"\r\n              name={[field.name, \"level\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <Select\r\n                options={scientificOptions}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"论文名称\"\r\n              rules={requiredRule}\r\n              name={[field.name, \"name\"]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"期刊刊号\"\r\n              rules={requiredRule}\r\n              name={[field.name, \"id_number\"]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"出版时间\"\r\n              rules={requiredRule}\r\n              name={[field.name, \"time\"]}\r\n            >\r\n              <FmtDatePicker\r\n                disabledDate={disabledFormCurrentDate}\r\n              />\r\n            </Form.Item>\r\n            <UploadDragger\r\n              formProps={{\r\n                label: \"文件\",\r\n                name: [field.name, \"files\"]\r\n              }}\r\n            />\r\n          </React.Fragment>\r\n        )\r\n      }\r\n    </FormListSkeleton>\r\n  )\r\n};\r\n\r\nexport default DissertationForm;","/**\r\n * 出版专著量化分表单\r\n */\r\nimport { FormItemProps, Form, Select, Input, DatePicker, InputNumber, Space, DatePickerProps } from 'antd';\r\nimport * as C from '../../../config/academic.config';\r\nimport * as React from 'react';\r\nimport { disabledFormCurrentDate, requiredRule } from '@/config/form';\r\nimport FormListSkeleton from '../../form-list-skeleton';\r\nimport { UploadFile } from 'antd/lib/upload/interface';\r\nimport UploadDragger from '@/components/upload-file';\r\nimport { FORMAT_DATE } from '@/config/time';\r\nimport FmtDatePicker from '@/components/fmt-date-picker';\r\n\r\ninterface IProps extends FormItemProps {\r\n\r\n}\r\n\r\nexport interface PublishFormValue {\r\n  level: C.PublishScoreItem['level'];\r\n  name: string;\r\n  time: DatePickerProps['value'];\r\n  publish_house_name: string;\r\n  fonts_count: number;\r\n  files: UploadFile[];\r\n}\r\n\r\nexport const publishDefaultFormValue: PublishFormValue = {\r\n  level: 'authoritative_press',\r\n  name: '',\r\n  time: FORMAT_DATE,\r\n  fonts_count: 1,\r\n  publish_house_name: '',\r\n  files: []\r\n};\r\n\r\nconst PublishForm: React.FC<IProps> = (props) => {\r\n\r\n  const scientificOptions = React.useMemo(() => C.publishScoreList.map(item => ({\r\n    label: `${item.title} 『${item.score}分/万字』`,\r\n    value: item.level,\r\n    score: item.score\r\n  })), []);\r\n\r\n  return (\r\n    <FormListSkeleton\r\n      title=\"出版专著\"\r\n      name=\"publish\"\r\n      itemTitle=\"专著\"\r\n      listId=\"academic-form-publish\"\r\n      alertMessage={\r\n        [\r\n          '以西安邮电大学为第一署名单位，参与出版本学科专著、教材、编著或者译著 1 部',\r\n          '出版社级别以西邮党发〔2018〕14 号文件为准',\r\n          '本人承担字数不足 1 万字的计分为 0，超过 1 万字的以整数倍计算分数',\r\n          '在书中必须注明个人工作量'\r\n        ]\r\n      }\r\n    >\r\n      {\r\n        (field) => (\r\n          <React.Fragment>\r\n            <Form.Item\r\n              label=\"出版社级别\"\r\n              name={[field.name, \"level\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <Select\r\n                options={scientificOptions}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"出版社名称\"\r\n              name={[field.name, \"publish_house_name\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"专著名称\"\r\n              name={[field.name, \"name\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"出版时间\"\r\n            >\r\n              <Space>\r\n                <Form.Item\r\n                  noStyle\r\n                  name={[field.name, \"time\"]}\r\n                  rules={requiredRule}\r\n                >\r\n                  <FmtDatePicker\r\n                    disabledDate={disabledFormCurrentDate}\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item\r\n                  name={[field.name, \"fonts_count\"]}\r\n                  rules={requiredRule}\r\n                  noStyle\r\n                >\r\n                  <InputNumber\r\n                    addonBefore=\"承担字数\"\r\n                    addonAfter=\"万字\"\r\n                    min={1}\r\n                  />\r\n                </Form.Item>\r\n              </Space>\r\n            </Form.Item>\r\n            <UploadDragger\r\n              formProps={{\r\n                label: \"文件\",\r\n                name: [field.name, \"files\"]\r\n              }}\r\n            />\r\n          </React.Fragment>\r\n        )\r\n      }\r\n    </FormListSkeleton>\r\n  )\r\n};\r\n\r\nexport default PublishForm;","import * as React from 'react';\r\n\r\n/**\r\n * 创建map\r\n */\r\nconst useScoreMap = (scoreList: any[], dep: any[] = []): Map<string, number> => {\r\n  const scoreMap = React.useMemo(() => {\r\n    const temp = new Map();\r\n    scoreList.forEach(item => {\r\n      if (item.score) {\r\n        temp.set(item.level, item.score);\r\n      } else if (item.children && Array.isArray(item.children)) {\r\n        (item.children as any[]).map(child => {\r\n          temp.set(`${item.type}-${child.level}`, child.score);\r\n        })\r\n      }\r\n    });\r\n    return temp;\r\n  }, [...dep]);\r\n  return scoreMap;\r\n};\r\n\r\nexport default useScoreMap;","/**\r\n * 学术成果表单\r\n */\r\nimport * as React from 'react';\r\nimport { Form, FormProps } from 'antd';\r\nimport FormHeader from '../form-header';\r\nimport ScientificForm, { ScientificFormValue, scientificDefaultFormValue } from './components/scientific-form';\r\nimport AwardForm, { AwardFormValue, awardDefaultFormValue } from './components/award-form';\r\nimport DissertationForm, { DissertationFormValue, dissertationDefaultFormValue } from './components/dissertation-form';\r\nimport PublishForm, { publishDefaultFormValue, PublishFormValue } from './components/publish-form';\r\nimport useScoreMap from '../../hooks/use-score-map';\r\nimport { awardScoreList, dissertationScoreList, publishScoreList, scientificScoreList } from '../../config/academic.config';\r\nimport { getCooperationScore } from '../../utils';\r\nimport { baseFormConf, validateMessages } from '@/config/form';\r\nimport { useApplicationContext } from '../../context/application.context';\r\n\r\nexport interface AcademicFormValue {\r\n  award: AwardFormValue[];\r\n  scientific: ScientificFormValue[];\r\n  dissertation: DissertationFormValue[];\r\n  publish: PublishFormValue[];\r\n}\r\n\r\nconst academicFormDefaultValue: AcademicFormValue = {\r\n  award: [awardDefaultFormValue],\r\n  scientific: [scientificDefaultFormValue],\r\n  dissertation: [dissertationDefaultFormValue],\r\n  publish: [publishDefaultFormValue]\r\n}\r\n\r\ninterface IProps {\r\n  academicValue?: AcademicFormValue;\r\n}\r\n\r\n\r\nconst AcademicForm: React.FC<IProps> = (props) => {\r\n  const { academicValue } = props;\r\n  const [score, setScore] = React.useState(0);\r\n  const { academicForm } = useApplicationContext();\r\n  const awardScoreMap = useScoreMap(awardScoreList, []);\r\n  const dissertationScoreMap = useScoreMap(dissertationScoreList, []);\r\n  const publishScoreMap = useScoreMap(publishScoreList, []);\r\n  const scientificScoreMap = useScoreMap(scientificScoreList, []);\r\n\r\n  const getScore = (values?: AcademicFormValue) => {\r\n    if (!values) return 0;\r\n    let tempScore = 0;\r\n    // 论文\r\n    if (values) {\r\n      (values.dissertation || []).forEach(item => {\r\n        // 可能存在空值\r\n        if (item) {\r\n          tempScore += (dissertationScoreMap.get(item.level) || 0);\r\n        }\r\n      });\r\n    }\r\n    // 获奖\r\n    if (values.award) {\r\n      (values.award || []).forEach(item => {\r\n        // 可能存在空值\r\n        if (item) {\r\n          tempScore += (awardScoreMap.get(`${item.level[0]}-${item.level[1]}`) || 0);\r\n        }\r\n      });\r\n    }\r\n    // 出版专著\r\n    if (values.publish) {\r\n      (values.publish || []).forEach(item => {\r\n        // 可能存在空值\r\n        if (item) {\r\n          tempScore += (publishScoreMap.get(item.level) || 0);\r\n        }\r\n      });\r\n    }\r\n    // \r\n    if (values.scientific) {\r\n      (values.scientific || []).forEach(item => {\r\n        if (item) {\r\n          const proportion = getCooperationScore(item.order, item.partners);\r\n          tempScore += (proportion * (scientificScoreMap.get(item.level) || 0));\r\n        }\r\n      });\r\n    }\r\n    return tempScore;\r\n  }\r\n\r\n  const onValuesChange: FormProps<AcademicFormValue>['onValuesChange'] = (_, values) => {\r\n    const currScore = getScore(values);\r\n    if (currScore !== score) {\r\n      setScore(currScore);\r\n    }\r\n  }\r\n\r\n  const currScore = React.useMemo(() => getScore(academicValue), [academicValue]);\r\n\r\n  React.useEffect(() => {\r\n    if (currScore !== score) {\r\n      setScore(currScore);\r\n    }\r\n  }, [academicValue]);\r\n\r\n  return (\r\n    <section id=\"academic-form\">\r\n      <FormHeader\r\n        title=\"学术成果\"\r\n        expectScore={score}\r\n      />\r\n      <Form\r\n        {...baseFormConf}\r\n        name=\"academic\"\r\n        initialValues={academicValue}\r\n        onValuesChange={onValuesChange}\r\n        form={academicForm}\r\n      >\r\n        <ScientificForm />\r\n        <AwardForm />\r\n        <DissertationForm />\r\n        <PublishForm />\r\n      </Form>\r\n    </section>\r\n  )\r\n};\r\n\r\nAcademicForm.defaultProps = {\r\n  academicValue: academicFormDefaultValue\r\n}\r\n\r\nexport default AcademicForm;","import { BaseScoreItem } from './index';\r\n\r\nexport type MoralScoreItem = BaseScoreItem<\r\n  'national' | 'provincial' | 'municipal' | 'bureau' | 'school',\r\n  100 | 60 | 50 | 40 | 10\r\n>\r\nexport const moralScoreList: MoralScoreItem[] = [\r\n  {\r\n    level: 'national',\r\n    title: '国家级表彰者',\r\n    score: 100,\r\n  },\r\n  {\r\n    level: 'provincial',\r\n    title: '省级表彰者',\r\n    score: 60,\r\n  },\r\n  {\r\n    level: 'municipal',\r\n    title: '市级表彰者',\r\n    score: 50,\r\n  },\r\n  {\r\n    level: 'bureau',\r\n    title: '厅局级以上表彰者',\r\n    score: 40,\r\n  },\r\n  {\r\n    level: 'school',\r\n    title: '校级表彰者',\r\n    score: 10,\r\n  }\r\n]","/**\r\n * 思想品德成绩表\r\n */\r\nimport * as React from 'react';\r\nimport { Form, Input, Select, DatePicker, Card, FormProps } from 'antd';\r\nimport { moralScoreList, MoralScoreItem } from '../../config/moral.config';\r\nimport FormHeader from '../form-header';\r\nimport { FormValue } from '../../types/form';\r\nimport { disabledFormCurrentDate, requiredRule, baseFormConf } from '@/config/form';\r\nimport FormListSkeleton from '../form-list-skeleton';\r\nimport useScoreMap from '../../hooks/use-score-map';\r\nimport { useApplicationContext } from '../../context/application.context';\r\nimport UploadDragger from '@/components/upload-file';\r\nimport { UploadFile } from 'antd/lib/upload/interface';\r\nimport FmtDatePicker from '@/components/fmt-date-picker';\r\n\r\ntype MoralFormItemValue = {\r\n  level: MoralScoreItem['level'];\r\n  name: string;\r\n  info: string;\r\n  time: string;\r\n  files: UploadFile[];\r\n}\r\n\r\nexport type MoralFormValue = FormValue<MoralFormItemValue>;\r\n\r\nconst defaultFormValue: MoralFormValue = {\r\n  list: [\r\n    {\r\n      level: 'school',\r\n      name: '',\r\n      info: '',\r\n      time: '',\r\n      files: [],\r\n    }\r\n  ]\r\n}\r\n\r\n\r\ninterface IProps {\r\n  moralValue?: MoralFormValue;\r\n}\r\n\r\nconst MoralForm: React.FC<IProps> = (props) => {\r\n  const { moralValue } = props;\r\n  const { moralForm } = useApplicationContext();\r\n  const [score, setScore] = React.useState(0);\r\n  const scoreMap = useScoreMap(moralScoreList, []);\r\n\r\n  const options = React.useMemo(() => moralScoreList.map(item => ({\r\n    ...item,\r\n    title: `${item.title}  『分数：${item.score}分』`\r\n  })), []);\r\n\r\n  const getScore = (moralList: MoralFormValue['list']) => {\r\n    return moralList.reduce((prev, curr) => {\r\n      if (!curr || !curr.level) return prev;\r\n      prev += (scoreMap.get(curr.level) || 0);\r\n      return prev;\r\n    }, 0);\r\n  };\r\n\r\n  const currScore = React.useMemo(() => getScore(moralValue?.list || []), [moralValue]);\r\n\r\n  React.useEffect(() => {\r\n    if (currScore !== score) {\r\n      setScore(currScore);\r\n    }\r\n  }, [moralValue]);\r\n\r\n  const onValuesChange: FormProps<MoralFormValue>['onValuesChange'] = (_, values) => {\r\n    const currScore = getScore(values.list);\r\n    if (currScore !== score) {\r\n      setScore(currScore);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <section id=\"moral-form\">\r\n      <FormHeader\r\n        title=\"思想品德成绩\"\r\n        expectScore={score}\r\n      />\r\n      <Form\r\n        {...baseFormConf}\r\n        initialValues={moralValue}\r\n        onValuesChange={onValuesChange}\r\n        name=\"moral\"\r\n        form={moralForm}\r\n      >\r\n        <Card>\r\n          <FormListSkeleton\r\n            listId=\"\"\r\n            name=\"list\"\r\n            alertMessage=\"各级表彰均应属思想品德方面\"\r\n            title=\"\"\r\n            itemTitle=\"奖项\"\r\n          >\r\n            {\r\n              (field) => (\r\n                <React.Fragment>\r\n                  <Form.Item\r\n                    label=\"奖项级别\"\r\n                    name={[field.name, 'level']}\r\n                    rules={requiredRule}\r\n                  >\r\n                    <Select\r\n                      options={options}\r\n                      fieldNames={{ label: 'title', value: 'level' }}\r\n                      placeholder=\"请选择奖项级别（必填）\"\r\n                    />\r\n                  </Form.Item>\r\n                  <Form.Item\r\n                    label=\"奖项具名\"\r\n                    name={[field.name, 'name']}\r\n                    rules={requiredRule}\r\n                  >\r\n                    <Input\r\n                      allowClear\r\n                      placeholder=\"请输入奖项全名（必填）\"\r\n                    />\r\n                  </Form.Item>\r\n                  <Form.Item\r\n                    label=\"颁布时间\"\r\n                    name={[field.name, 'time']}\r\n                    rules={requiredRule}\r\n                  >\r\n                    <FmtDatePicker\r\n                      allowClear\r\n                      disabledDate={disabledFormCurrentDate}\r\n                      placeholder=\"请输入奖项颁布时间（必填）\"\r\n                    />\r\n                  </Form.Item>\r\n                  <Form.Item\r\n                    label=\"补充信息\"\r\n                    name={[field.name, 'info']}\r\n                  >\r\n                    <Input.TextArea\r\n                      placeholder=\"请输入奖项相关信息或者其他说明（非必填项）\"\r\n                    />\r\n                  </Form.Item>\r\n                  <UploadDragger\r\n                    formProps={{\r\n                      label: \"文件\",\r\n                      name: [field.name, \"files\"]\r\n                    }}\r\n                  />\r\n                </React.Fragment>\r\n              )\r\n            }\r\n\r\n          </FormListSkeleton>\r\n        </Card>\r\n      </Form>\r\n    </section >\r\n  );\r\n};\r\n\r\nMoralForm.defaultProps = {\r\n  moralValue: defaultFormValue\r\n}\r\n\r\nexport default MoralForm;","/**\r\n * 实践活动计分=取得实践成果量化分+参加各类竞赛量化分+社会活动量化分\r\n */\r\n\r\nimport { BaseScoreItem, BaseLevelScoreItem, BaseTypeScoreItem } from './index';\r\n\r\n/**\r\n * 实践成果量化得分\r\n * \r\n * 实践成果中专利需授权，标准需获批立项。申报时必须提供授权（获批）证明。\r\n */\r\nexport type ResultScoreItem = BaseScoreItem<\r\n  'international' | 'national' | 'industry' | 'invention' | 'utility' | 'software' | 'study_abroad' | 'case_library_professional',\r\n  1000 | 500 | 125 | 100 | 40 | 20\r\n>;\r\n\r\nexport const resultScoreList: ResultScoreItem[] = [\r\n  {\r\n    level: 'international',\r\n    title: '国际标准',\r\n    score: 1000,\r\n  },\r\n  {\r\n    level: 'national',\r\n    title: '国家标准',\r\n    score: 500,\r\n  },\r\n  {\r\n    level: 'industry',\r\n    title: '行业标准',\r\n    score: 125\r\n  },\r\n  {\r\n    level: 'invention',\r\n    title: '发明专利',\r\n    score: 100\r\n  },\r\n  {\r\n    level: 'utility',\r\n    title: '实用新型专利',\r\n    score: 40\r\n  },\r\n  {\r\n    level: 'software',\r\n    title: '软件著作权',\r\n    score: 20\r\n  },\r\n  {\r\n    level: 'study_abroad',\r\n    title: '国（境）外学习（含在线）',\r\n    score: 20\r\n  },\r\n  {\r\n    level: 'case_library_professional',\r\n    title: '入选专业学位教学指导委员会案例库',\r\n    score: 20\r\n  }\r\n];\r\n\r\nexport type CompetitionLevelScoreItem = BaseLevelScoreItem<\r\n  'first' | 'second' | 'third',\r\n  240 | 160 | 100 | 50 | 40 | 30\r\n>\r\n\r\n/**参加各类竞赛量化分*/\r\nexport type CompetitionScoreItem = BaseTypeScoreItem<\r\n  'national' | 'provincial',\r\n  CompetitionLevelScoreItem\r\n>\r\n\r\n/**\r\n * 参加各类竞赛量化分\r\n * \r\n * 仅认可互联网+、挑战杯、中国研究生创新实践系列大赛、陕西省研究生创新成果展。研究生创新成果展与省赛同级。\r\n */\r\nexport const competitionScoreList: CompetitionScoreItem[] = [\r\n  {\r\n    type: 'national',\r\n    title: '国家级',\r\n    children: [\r\n      {\r\n        level: 'first',\r\n        title: '第一层次',\r\n        score: 240\r\n      },\r\n      {\r\n        level: 'second',\r\n        title: '第二层次',\r\n        score: 160\r\n      },\r\n      {\r\n        level: 'third',\r\n        title: '第三层次',\r\n        score: 100\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    type: 'provincial',\r\n    title: '省级',\r\n    children: [\r\n      {\r\n        level: 'first',\r\n        title: '第一层次',\r\n        score: 50\r\n      },\r\n      {\r\n        level: 'second',\r\n        title: '第二层次',\r\n        score: 40\r\n      },\r\n      {\r\n        level: 'third',\r\n        title: '第三层次',\r\n        score: 30\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nexport type SocialCadreLevel = 'leader' | 'deputy_leader' | 'committee';\r\n\r\nexport type SocialActivityLevel = 'school_activities' | 'college_activities';\r\n\r\nexport type SocialLevelScoreItem = BaseLevelScoreItem<\r\n  SocialActivityLevel | SocialCadreLevel,\r\n  30 | 20 | 10 | 5 | 2\r\n>\r\n\r\ntype SocialType = 'cadre' | 'activity';\r\n\r\n/**参加社会活动量化分 */\r\nexport type SocialScoreItem = BaseTypeScoreItem<\r\n  SocialType,\r\n  SocialLevelScoreItem\r\n>\r\n\r\nexport const SocialCadreMap: Record<SocialCadreLevel, string> = {\r\n  leader: '主要负责人',\r\n  deputy_leader: '副级负责人',\r\n  committee: '管理人员',\r\n}\r\n\r\n/**\r\n * \r\n * **顺序不可变**\r\n * \r\n * 0 ==》 学生干部\r\n * \r\n * 1 ==》 学校活动 \r\n * \r\n * 社会活动量化考核\r\n * \r\n */\r\nexport const SocialScoreList: SocialScoreItem[] = [\r\n  {\r\n    type: 'cadre',\r\n    title: '学生干部',\r\n    children: [\r\n      {\r\n        level: 'leader',\r\n        title: [\r\n          \"研究生会主席\",\r\n          \"年级负责人\",\r\n          \"党员工作站站长\"\r\n        ],\r\n        score: 30\r\n      },\r\n      {\r\n        level: 'deputy_leader',\r\n        title: [\r\n          \"研究生会副主席\",\r\n          \"部长\",\r\n          \"协会负责人\",\r\n          \"学生党支部书记\",\r\n          \"班长\",\r\n          \"学生公寓党员工作站副站长\"\r\n        ],\r\n        score: 20\r\n      },\r\n      {\r\n        level: 'committee',\r\n        title: [\r\n          \"副部长\",\r\n          \"协会副职\",\r\n          \"学生党支部委员\",\r\n          \"学生公寓党员工作站站务委员\"\r\n        ],\r\n        score: 10\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    // 校园活动可多次累计\r\n    type: 'activity',\r\n    title: '校园活动或其他',\r\n    children: [\r\n      {\r\n        level: \"school_activities\",\r\n        title: '学校活动',\r\n        score: 5\r\n      },\r\n      {\r\n        level: 'college_activities',\r\n        title: '学院活动',\r\n        score: 2\r\n      }\r\n    ]\r\n  }\r\n];","import * as React from 'react';\r\nimport * as C from '../../../config/practice.config';\r\nimport { disabledFormCurrentDate, requiredRule } from '@/config/form';\r\nimport { Form, Card, Cascader, Input, DatePicker, Radio, FormItemProps } from 'antd';\r\nimport { RangePickerProps } from 'antd/lib/date-picker/generatePicker';\r\nimport moment from 'moment';\r\nimport FormListSkeleton from '../../form-list-skeleton';\r\nimport UploadDragger from '@/components/upload-file';\r\nimport { UploadFile } from 'antd/lib/upload/interface';\r\nimport { FORMAT_DATE } from '@/config/time';\r\nimport FmtDatePicker from '@/components/fmt-date-picker';\r\n\r\nexport interface CadreFormItemValue {\r\n  level: [C.SocialCadreLevel, string] | [];\r\n  department: string;\r\n}\r\n\r\nexport interface ActivityFormItemValue {\r\n  level: C.SocialActivityLevel;\r\n  name: string;\r\n  time: RangePickerProps<moment.MomentInput>['value'];\r\n  files: UploadFile[];\r\n}\r\n\r\nexport interface PracticeSocialFormValue {\r\n  cadre: CadreFormItemValue[];\r\n  activity: ActivityFormItemValue[];\r\n}\r\n\r\nexport const practiceSocialFormDefaultValue: PracticeSocialFormValue = {\r\n  cadre: [{\r\n    level: [],\r\n    department: '',\r\n  }],\r\n  activity: [{\r\n    level: 'college_activities',\r\n    name: '',\r\n    time: [FORMAT_DATE, FORMAT_DATE],\r\n    files: [],\r\n  }]\r\n}\r\n\r\n\r\ninterface IProps extends FormItemProps {\r\n\r\n}\r\n\r\nconst PracticeSocialForm: React.FC<IProps> = (props) => {\r\n  const cadreOption = React.useMemo(\r\n    () => {\r\n      const scoreList = C.SocialScoreList\r\n        .find(item => item.type === 'cadre');\r\n      return scoreList?.children.map(item => {\r\n        return {\r\n          label: `${C.SocialCadreMap[item.level as C.SocialCadreLevel]} 『分数：${item.score}分』`,\r\n          value: item.level,\r\n          score: 30,\r\n          children: (item.title as string[]).map(t => ({\r\n            label: t,\r\n            value: t,\r\n          }))\r\n        }\r\n      });\r\n    }, []);\r\n\r\n  const activityOption = React.useMemo(() =>\r\n    C.SocialScoreList\r\n      .find(item => item.type === 'activity')\r\n      ?.children.map(item => ({\r\n        label: `${item.title}『${item.score}分』`,\r\n        value: item.level,\r\n        score: 30,\r\n      }))\r\n    , []);\r\n\r\n  return (\r\n    <Card\r\n      title=\"社会活动表\"\r\n      id=\"practice-form-social\"\r\n    >\r\n      <FormListSkeleton\r\n        title=\"职位信息表\"\r\n        listId=\"practice-form-social-cadre\"\r\n        name={[\"social\", \"cadre\"]}\r\n        itemTitle=\"职位\"\r\n        alertMessage={\r\n          [\r\n            '社会工作计分按照学生干部的实际工作情况给分，兼任多项学生工作职务者计最高分，不累加',\r\n            '因解职、辞职、免职使任职时间不足一届的 2/3 的学生干部不予加分',\r\n            '增补、升任的干部按任职时间在 2/3 以上的职务计分'\r\n          ]\r\n        }\r\n      >\r\n        {\r\n          field => (\r\n            <React.Fragment>\r\n              <Form.Item\r\n                label=\"职位级别\"\r\n                name={[field.name, \"level\"]}\r\n                rules={requiredRule}\r\n              >\r\n                <Cascader\r\n                  placeholder=\"职位级别\"\r\n                  options={cadreOption}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"所属部门\"\r\n                name={[field.name, \"department\"]}\r\n                rules={requiredRule}\r\n              >\r\n                <Input\r\n                  placeholder=\"所属组织/部门/学院\"\r\n                />\r\n              </Form.Item>\r\n            </React.Fragment>\r\n          )\r\n        }\r\n      </FormListSkeleton>\r\n\r\n      <FormListSkeleton\r\n        title=\"活动信息表\"\r\n        listId=\"practice-form-social-activity\"\r\n        name={[\"social\", \"activity\"]}\r\n        itemTitle=\"活动\"\r\n        alertMessage=\"参加社会活动量化分由学生工作办公室认定\"\r\n      >\r\n        {\r\n          field => (\r\n            <React.Fragment>\r\n              <Form.Item\r\n                label=\"活动类型\"\r\n                name={[field.name, \"level\"]}\r\n                rules={requiredRule}\r\n              >\r\n                <Radio.Group\r\n                  buttonStyle=\"solid\"\r\n                  options={activityOption}\r\n                  optionType=\"button\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"活动名称\"\r\n                name={[field.name, \"name\"]}\r\n                rules={requiredRule}\r\n              >\r\n                <Input\r\n                  placeholder=\"活动名称\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"活动时间\"\r\n                name={[field.name, \"time\"]}\r\n                rules={requiredRule}\r\n              >\r\n                <FmtDatePicker\r\n                  type=\"range\"\r\n                  disabledDate={disabledFormCurrentDate}\r\n                  placeholder={[\"活动开始时间\", \"活动终止时间\"]}\r\n                />\r\n              </Form.Item>\r\n              <UploadDragger\r\n                formProps={{\r\n                  label: \"文件\",\r\n                  name: [field.name, \"files\"]\r\n                }}\r\n              />\r\n            </React.Fragment>\r\n          )\r\n        }\r\n      </FormListSkeleton>\r\n    </Card>\r\n  )\r\n};\r\n\r\nexport default PracticeSocialForm;","import * as React from 'react';\r\nimport * as C from '../../../config/practice.config';\r\nimport { disabledFormCurrentDate, requiredRule } from '@/config/form';\r\nimport { FormItemProps, Form, DatePicker, Cascader, Input, DatePickerProps } from 'antd';\r\nimport FormListSkeleton from '../../form-list-skeleton';\r\nimport CooperateForm, { CooperateFormValue } from '../../cooperate-form';\r\nimport UploadDragger from '@/components/upload-file';\r\nimport { UploadFile } from 'antd/lib/upload/interface';\r\nimport { FORMAT_DATE } from '@/config/time';\r\nimport FmtDatePicker from '@/components/fmt-date-picker';\r\n\r\nexport interface PracticeCompetitionFormValue extends CooperateFormValue {\r\n  level: [C.CompetitionScoreItem['type'], C.CompetitionLevelScoreItem['level']] | [];\r\n  name: string;\r\n  time: DatePickerProps['value'];\r\n  files: UploadFile[];\r\n}\r\n\r\nexport const practiceCompetitionDefaultFormValue: PracticeCompetitionFormValue = {\r\n  level: [],\r\n  name: '',\r\n  time: FORMAT_DATE,\r\n  order: 1,\r\n  partners: 1,\r\n  files: []\r\n}\r\n\r\ninterface IProps extends FormItemProps {\r\n\r\n}\r\n\r\nconst PracticeCompetitionForm: React.FC<IProps> = (props) => {\r\n\r\n  const competitionOptions = React.useMemo(() => C.competitionScoreList.map(item => ({\r\n    label: item.title,\r\n    value: item.type,\r\n    children: item.children.map(item => ({\r\n      label: `${item.title} 『${item.score}分』`,\r\n      value: item.level,\r\n      score: item.score\r\n    }))\r\n  })), []);\r\n\r\n  return (\r\n    <FormListSkeleton\r\n      name=\"competition\"\r\n      itemTitle=\"竞赛\"\r\n      title=\"竞赛信息表\"\r\n      listId=\"practice-form-competition\"\r\n      alertMessage={[\r\n        '仅认可互联网+、挑战杯、中国研究生创新实践系列大赛、陕西省研究生创新成果展',\r\n        '研究生创新成果展与省赛同级'\r\n      ]}\r\n    >\r\n      {\r\n        (field) => (\r\n          <React.Fragment>\r\n            <Form.Item\r\n              label=\"竞赛类型\"\r\n              name={[field.name, \"level\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <Cascader\r\n                placeholder=\"竞赛类型\"\r\n                options={competitionOptions}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"赛事具名\"\r\n              name={[field.name, \"name\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"获奖时间\"\r\n              name={[field.name, \"time\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <FmtDatePicker\r\n                disabledDate={disabledFormCurrentDate}\r\n              />\r\n            </Form.Item>\r\n            <CooperateForm\r\n              field={field}\r\n            />\r\n            <UploadDragger\r\n              formProps={{\r\n                label: \"文件\",\r\n                name: [field.name, \"files\"]\r\n              }}\r\n            />\r\n          </React.Fragment>\r\n        )\r\n      }\r\n    </FormListSkeleton>\r\n  );\r\n\r\n};\r\n\r\nexport default PracticeCompetitionForm;","import * as React from 'react';\r\nimport * as C from '../../../config/practice.config';\r\nimport * as U from '@/utils';\r\nimport { DatePicker, DatePickerProps, Form, FormItemProps, Input, Select } from 'antd';\r\nimport { disabledFormCurrentDate, requiredRule } from '@/config/form';\r\nimport { FormListFieldData } from 'antd/lib/form/FormList';\r\nimport FormListSkeleton from '../../form-list-skeleton';\r\nimport CooperateForm, { CooperateFormValue } from '../../cooperate-form';\r\nimport UploadDragger from '@/components/upload-file';\r\nimport { UploadFile } from 'antd/lib/upload/interface';\r\nimport { FORMAT_DATE } from '@/config/time';\r\nimport FmtDatePicker from '@/components/fmt-date-picker';\r\n\r\ninterface IProps extends FormItemProps {\r\n\r\n}\r\n\r\nexport interface PracticeResultFormValue extends CooperateFormValue {\r\n  level: C.ResultScoreItem['level'];\r\n  time: DatePickerProps['value'];\r\n  name: string;\r\n  order: number;\r\n  partners: number;\r\n  files: UploadFile[];\r\n}\r\n\r\nexport const practiceResultDefaultFormValue: PracticeResultFormValue = {\r\n  level: 'international',\r\n  time: FORMAT_DATE,\r\n  name: '',\r\n  order: 1,\r\n  partners: 1,\r\n  files: []\r\n}\r\n\r\n\r\nconst isUpdateCooperation = (field: FormListFieldData): FormItemProps['shouldUpdate'] => {\r\n  return (prev, curr) => {\r\n    const depKeyPath = `result[${field.key}].level`;\r\n    return U._get(prev, depKeyPath) !== U._get(curr, depKeyPath);\r\n  }\r\n}\r\n\r\n/**\r\n * 是否是合作成果\r\n * @param level 成果类型 \r\n */\r\nexport const isCooperationLevel = (level: C.ResultScoreItem['level']) => {\r\n  const cooperationLevels: Omit<C.ResultScoreItem['level'], \"study_abroad\" | \"case_library_professional\">[]\r\n    = [\r\n      'international',\r\n      'national',\r\n      'industry',\r\n      'invention',\r\n      'utility',\r\n      'software'\r\n    ];\r\n  return cooperationLevels.includes(level);\r\n}\r\n\r\nconst PracticeResultForm: React.FC<IProps> = (props) => {\r\n  const resultScoreOptions = React.useMemo(() => C.resultScoreList.map(item => ({\r\n    label: `${item.title} 『${item.score}分』`,\r\n    value: item.level,\r\n    score: item.score\r\n  })), []);\r\n\r\n  return (\r\n    <FormListSkeleton\r\n      title=\"实践成果表\"\r\n      listId=\"practice-form-result\"\r\n      itemTitle=\"成果\"\r\n      name=\"result\"\r\n      alertMessage=\"\"\r\n    >\r\n      {\r\n        (field) => (\r\n          <React.Fragment>\r\n            <Form.Item\r\n              label=\"成果类型\"\r\n              name={[field.name, \"level\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <Select\r\n                options={resultScoreOptions}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"获奖时间\"\r\n              name={[field.name, \"time\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <FmtDatePicker\r\n                disabledDate={disabledFormCurrentDate}\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label=\"成果具名\"\r\n              name={[field.name, \"name\"]}\r\n              rules={requiredRule}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              noStyle\r\n              shouldUpdate={isUpdateCooperation(field)}\r\n            >\r\n              {\r\n                ({ getFieldValue }) => {\r\n                  // 通过确定是否是合作项目来判断是否需要展示合作贡献表单\r\n                  const isShowCooperationFormGroup = isCooperationLevel(getFieldValue(['result', field.name, \"level\"]));\r\n                  return isShowCooperationFormGroup && (\r\n                    <CooperateForm\r\n                      field={field}\r\n                    />\r\n                  );\r\n                }\r\n              }\r\n            </Form.Item>\r\n            <UploadDragger\r\n              formProps={{\r\n                label: \"文件\",\r\n                name: [field.name, \"files\"]\r\n              }}\r\n            />\r\n          </React.Fragment>\r\n        )\r\n      }\r\n    </FormListSkeleton>\r\n  );\r\n};\r\n\r\nexport default React.memo(PracticeResultForm);","/**\r\n * 实践活动表\r\n */\r\nimport * as React from 'react';\r\nimport { Form, FormProps } from 'antd';\r\nimport FormHeader from '../form-header';\r\nimport PracticeSocialForm, { PracticeSocialFormValue, practiceSocialFormDefaultValue } from './components/social-form';\r\nimport PracticeCompetitionForm, { PracticeCompetitionFormValue, practiceCompetitionDefaultFormValue } from './components/competition-form';\r\n\r\nimport PracticeResultForm,\r\n{\r\n  PracticeResultFormValue,\r\n  practiceResultDefaultFormValue,\r\n  isCooperationLevel\r\n} from './components/result-form';\r\nimport { getCooperationScore } from '../../utils/index';\r\nimport { competitionScoreList, resultScoreList, SocialScoreList } from '../../config/practice.config';\r\nimport useScoreMap from '../../hooks/use-score-map';\r\nimport { baseFormConf, validateMessages } from '@/config/form';\r\nimport { useApplicationContext } from '../../context/application.context';\r\n\r\nexport type PracticeFormValue = {\r\n  result: PracticeResultFormValue[];\r\n  social: PracticeSocialFormValue;\r\n  competition: PracticeCompetitionFormValue[];\r\n};\r\n\r\ninterface IProps {\r\n  practiceValue?: PracticeFormValue;\r\n}\r\n\r\nconst defaultFormValue: PracticeFormValue = {\r\n  result: [practiceResultDefaultFormValue],\r\n  social: practiceSocialFormDefaultValue,\r\n  competition: [practiceCompetitionDefaultFormValue]\r\n}\r\n\r\nconst PracticeForm: React.FC<IProps> = (props) => {\r\n  const { practiceValue } = props;\r\n  const [score, setScore] = React.useState(0);\r\n  const { practiceForm } = useApplicationContext();\r\n  const resultScoreMap = useScoreMap(resultScoreList, []);\r\n  const competitionScoreMap = useScoreMap(competitionScoreList, []);\r\n  const socialActivityScoreMap = useScoreMap(SocialScoreList[1].children, []);\r\n  const socialCadreScoreMap = useScoreMap(SocialScoreList[0].children, []);\r\n\r\n  const getScore = (values?: PracticeFormValue) => {\r\n    if (!values) return 0;\r\n    let tempScore = 0;\r\n    // 实践成果\r\n    if (values.result) {\r\n      (values.result || []).forEach(item => {\r\n        // 可能存在空值\r\n        if (item) {\r\n          if (isCooperationLevel(item.level)) {\r\n            const proportion = getCooperationScore(item.order, item.partners);\r\n            tempScore += (proportion * (resultScoreMap.get(item.level) || 0));\r\n          } else {\r\n            tempScore += (resultScoreMap.get(item.level) || 0);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    // 竞赛得分\r\n    if (values.competition) {\r\n      (values.competition || []).forEach(item => {\r\n        // 可能存在空值\r\n        if (item) {\r\n          const proportion = getCooperationScore(item.order, item.partners);\r\n          tempScore += (proportion * (competitionScoreMap.get(`${item.level[0]}-${item.level[1]}`) || 0));\r\n        }\r\n      });\r\n    }\r\n    // 社会活动\r\n    if (values.social) {\r\n      if (values.social.activity) {\r\n        (values.social.activity || []).forEach(item => {\r\n          // 可能存在空值\r\n          if (item) {\r\n            tempScore += (socialActivityScoreMap.get(item.level) || 0);\r\n          }\r\n        });\r\n      }\r\n      if (values.social.cadre) {\r\n        (values.social.cadre || []).forEach(item => {\r\n          // 可能存在空值\r\n          if (item) {\r\n            tempScore += (socialCadreScoreMap.get(item.level[0] as string) || 0);\r\n          }\r\n        });\r\n      }\r\n    }\r\n    return tempScore;\r\n  }\r\n\r\n  const onValuesChange: FormProps<PracticeFormValue>['onValuesChange'] = (_, values) => {\r\n    const currScore = getScore(values);\r\n    if (currScore !== score) {\r\n      setScore(currScore);\r\n    }\r\n  }\r\n\r\n  const currScore = React.useMemo(() => getScore(practiceValue), [practiceValue]);\r\n\r\n  React.useEffect(() => {\r\n    if (currScore !== score) {\r\n      setScore(currScore);\r\n    }\r\n  }, [practiceValue]);\r\n\r\n  return (\r\n    <section id=\"practice-form\">\r\n        <FormHeader\r\n          title=\"实践活动成绩\"\r\n          expectScore={score}\r\n        />\r\n        <Form\r\n          {...baseFormConf}\r\n          name=\"practice\"\r\n          form={practiceForm}\r\n          initialValues={practiceValue}\r\n          onValuesChange={onValuesChange}\r\n        >\r\n          <PracticeResultForm />\r\n          <PracticeSocialForm />\r\n          <PracticeCompetitionForm />\r\n        </Form>\r\n    </section>\r\n  )\r\n};\r\n\r\nPracticeForm.defaultProps = {\r\n  practiceValue: defaultFormValue\r\n}\r\n\r\nexport default PracticeForm;","import React, { useState, useEffect } from 'react';\r\nimport { Anchor } from 'antd';\r\nimport style from '../style/anchor.module.less';\r\n\r\nconst { Link } = Anchor;\r\n\r\n\r\nconst FormAnchor: React.FC = () => {\r\n  const [targetOffset, setTargetOffset] = useState<number | undefined>(undefined);\r\n  useEffect(() => {\r\n    setTargetOffset(window.innerHeight / 2);\r\n  }, []);\r\n  return (\r\n    <React.Fragment>\r\n      <Anchor\r\n        showInkInFixed\r\n        targetOffset={targetOffset}\r\n        className={style['left-anchor-nav']}\r\n        // 98 是pageHeader的高度 + top 10\r\n        offsetTop={118}\r\n      >\r\n        <Link href=\"#moral-form\" title=\"思想品德\" />\r\n        <Link href=\"#practice-form\" title=\"实践活动\">\r\n          <Link href=\"#practice-form-result\" title=\"实践成果\"></Link>\r\n          <Link href=\"#practice-form-social\" title=\"社会活动\">\r\n            <Link href=\"#practice-form-social-cadre\" title=\"校园职位\"></Link>\r\n            <Link href=\"#practice-form-social-activity\" title=\"校园活动\"></Link>\r\n          </Link>\r\n          <Link href=\"#practice-form-competition\" title=\"竞赛信息\"></Link>\r\n        </Link>\r\n        <Link href=\"#academic-form\" title=\"学术成果\">\r\n          <Link href=\"#academic-form-scientific\" title=\"科研项目\"></Link>\r\n          <Link href=\"#academic-form-award\" title=\"荣获奖项\" />\r\n          <Link href=\"#academic-form-dissertation\" title=\"公开发表论文\" />\r\n          <Link href=\"#academic-form-publish\" title=\"出版专著\" />\r\n        </Link>\r\n      </Anchor>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default FormAnchor;","/**\r\n * 申请表单\r\n */\r\nimport * as React from 'react';\r\nimport ApplicationProvider from './context/application.context';\r\nimport AcademicForm, { AcademicFormValue } from './components/academic-form';\r\nimport MoralForm, { MoralFormValue } from './components/moral-form';\r\nimport PracticeForm, { PracticeFormValue } from './components/practice-form';\r\nimport FormAnchor from './components/form-anchor';\r\nimport style from './style/layout.module.less';\r\nimport { Button, Card, Form, message, Modal, Spin } from 'antd';\r\nimport { getApplicationStatus, HandleApplicationFormType, postApplicationForm, putApplicationForm } from '@/service/apply';\r\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\r\nimport { getApplicationForm } from '@/service/apply';\r\nimport { usePageHeaderContext } from '@/context/page-header';\r\nimport { useAuth } from '@/context/auth.context';\r\nimport { getRoutePath } from '@/utils';\r\n\r\nconst messageData = {\r\n  save: {\r\n    title: '保存注意事项：',\r\n    desc: '保存的信息不会提交，在进行下次编辑时仍可使用'\r\n  },\r\n  submit: {\r\n    title: '提交注意事项：',\r\n    desc: (\r\n      <div>\r\n        提交当前表单前建议您阅读以下事项：\r\n        <ol style={{ marginLeft: 30 }}>\r\n          <li>提交的信息会作为审核信息，在审核开始前你仍可更改;</li>\r\n          <li>提交的表单会覆盖之前的提交记录;</li>\r\n          <li>在同一年的奖学金评定记录中，只会用最后一次提交的申请表单来作为奖学金评定的依据，其他保存的申请表单在非『创建环节』不支持修改状态为「提交」;</li>\r\n        </ol>\r\n      </div>\r\n    )\r\n  },\r\n};\r\n\r\nexport interface ApplicationValue {\r\n  moral: MoralFormValue;\r\n  practice: PracticeFormValue;\r\n  academic: AcademicFormValue;\r\n}\r\n\r\nconst ApplicationForm: React.FC = () => {\r\n\r\n  const applyId = (+(useParams<{ applyId: string }>()?.applyId || '')) || -1;\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { user } = useAuth();\r\n  const { updatePageHeaderState } = usePageHeaderContext();\r\n  const [moralForm] = Form.useForm();\r\n  const [practiceForm] = Form.useForm();\r\n  const [academicForm] = Form.useForm();\r\n  const [modalLoading, setModalLoading] = React.useState(false);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [permission, setPermission] = React.useState<FormPermission>(applyId === -1 ? 'create' : 'read');\r\n  const disabled = React.useMemo(() => ['edit', 'invisible'].includes(permission), [permission]);\r\n  const [modalStatus, setModalStatus] = React.useState<{\r\n    visible: boolean;\r\n    type: HandleApplicationFormType;\r\n  }>({\r\n    visible: false,\r\n    type: 'submit',\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (user.identity !== 'manager' && applyId === -1) {\r\n      loadApplyStatus();\r\n    }\r\n    if (applyId !== -1) {\r\n      loadApplyForm();\r\n    }\r\n  }, [applyId]);\r\n\r\n  const loadApplyStatus = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await getApplicationStatus();\r\n      if (res && typeof res === 'number') {\r\n        navigate(getRoutePath(location.pathname, res));\r\n      }\r\n    } catch (error) {\r\n      console.error(error.message)\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const loadApplyForm = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await getApplicationForm(applyId);\r\n      setPermission(res.editable ? 'edit' : 'read');\r\n      moralForm.setFieldsValue(res.form.moral);\r\n      practiceForm.setFieldsValue(res.form.practice);\r\n      academicForm.setFieldsValue(res.form.academic);\r\n    } catch (error) {\r\n      message.error(error.message)\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getFormValue = (): ApplicationValue => {\r\n    const value: ApplicationValue = {\r\n      moral: moralForm.getFieldsValue(true),\r\n      practice: practiceForm.getFieldsValue(true),\r\n      academic: academicForm.getFieldsValue(true),\r\n    };\r\n    return value;\r\n  }\r\n\r\n  const submitForm = async () => {\r\n    const formValue = await Promise.all([\r\n      moralForm.validateFields(),\r\n      practiceForm.validateFields(),\r\n      academicForm.validateFields()\r\n    ]).then(([moral, practice, academic]) => {\r\n      const value: ApplicationValue = {\r\n        moral, practice, academic\r\n      };\r\n      return value;\r\n    }).catch(err => {\r\n      message.error(err.errorFields[0].errors[0]);\r\n    });\r\n\r\n    if (!formValue) return;\r\n\r\n    setModalStatus({\r\n      type: 'submit',\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  const saveForm = () => {\r\n    setModalStatus({\r\n      type: 'save',\r\n      visible: true,\r\n    })\r\n  };\r\n\r\n  const handleForm = async () => {\r\n    try {\r\n      setModalLoading(true);\r\n      if (applyId === -1) {\r\n        await postApplicationForm(modalStatus.type, getFormValue());\r\n      } else {\r\n        await putApplicationForm(modalStatus.type, getFormValue(), applyId)\r\n      }\r\n      message.success(\"操作成功\");\r\n    } catch (error) {\r\n      message.error(`失败: ${error.message}`)\r\n    } finally {\r\n      setModalLoading(false);\r\n      setModalStatus({\r\n        type: 'save',\r\n        visible: false,\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  React.useEffect(() => {\r\n    updatePageHeaderState({\r\n      title: '申请表单',\r\n      extra: disabled ? [] : [\r\n        <Button\r\n          key=\"1\"\r\n          onClick={saveForm}\r\n        >保存</Button>,\r\n        <Button\r\n          type=\"primary\"\r\n          key=\"2\"\r\n          onClick={submitForm}\r\n        >提交</Button>,\r\n      ],\r\n      subTitle: '',\r\n    });\r\n    return () => {\r\n      updatePageHeaderState({})\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Spin\r\n      spinning={loading}\r\n    >\r\n      <Modal\r\n        title={messageData[modalStatus.type].title}\r\n        visible={modalStatus.visible}\r\n        onOk={handleForm}\r\n        okText=\"确认\"\r\n        cancelText=\"取消\"\r\n        closable={false}\r\n        cancelButtonProps={{\r\n          disabled: modalLoading\r\n        }}\r\n        onCancel={() => setModalStatus({ ...modalStatus, visible: false })}\r\n        confirmLoading={modalLoading}\r\n      >\r\n        {messageData[modalStatus.type].desc}\r\n      </Modal>\r\n      <div\r\n        className={style['form-page-layout']}\r\n      >\r\n        <ApplicationProvider\r\n          moralForm={moralForm}\r\n          practiceForm={practiceForm}\r\n          academicForm={academicForm}\r\n        >\r\n          <section\r\n            className={style['application-form-anchor']}\r\n          >\r\n            <FormAnchor />\r\n          </section>\r\n          <Card\r\n            className={style['application-form-card']}\r\n            hoverable\r\n          >\r\n            <MoralForm />\r\n            <PracticeForm />\r\n            <AcademicForm />\r\n          </Card>\r\n        </ApplicationProvider>\r\n      </div>\r\n    </Spin>\r\n  );\r\n};\r\n\r\nexport default ApplicationForm;"],"names":["React.createContext","React.useContext","style","performanceNowModule","this","require$$0","global","rafModule","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","distModule","React.useMemo","TextLoop","React.Fragment","React.useState","U.clone","C.scientificScoreList","C.awardScoreList","C.dissertationScoreList","C.publishScoreList","defaultFormValue","C.SocialScoreList","C.SocialCadreMap","C.competitionScoreList","U._get","C.resultScoreList","React.memo","PracticeResultForm","useState"],"mappings":"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"}