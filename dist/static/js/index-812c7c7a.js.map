{"version":3,"file":"index-812c7c7a.js","sources":["../../../src/pages/user-center/components/user-info.tsx","../../../src/pages/user-center/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Descriptions, Badge, Button } from 'antd';\nimport { EditFilled } from '@ant-design/icons';\nimport style from '../style.module.less';\nimport { IBaseUserInfo } from '@/service/user';\n\ninterface IProps {\n  baseInfo: IBaseUserInfo;\n  detailInfo: IStudentInfo | IManagerInfo\n}\n\nconst UserInfo: React.FC<IProps> = (props) => {\n  const { baseInfo, detailInfo } = props;\n  const isStudent = React.useMemo(() => baseInfo.identity !== 'manager', [baseInfo]);\n  const positionInfo = React.useMemo(\n    () => {\n      if (baseInfo.identity === 'manager') {\n        const tempInfo = detailInfo as unknown as IManagerInfo;\n        return `${tempInfo.department} - ${tempInfo.office} - ${tempInfo.position}`\n      }\n      const tempInfo = detailInfo as unknown as IStudentInfo;\n      return `${tempInfo.college} - ${tempInfo.professional} 『 ${tempInfo.grade} 级（${tempInfo.class}） 班 』`\n  },\n    [baseInfo, detailInfo]);\n  return (\n    <div className={style['user-info']}>\n      <section className={style['avatar-card']}>\n        <div\n          className={style['avatar-box']}\n          style={{\n            backgroundImage: `url(${baseInfo.avatar})`\n          }}\n        >\n        </div>\n        <Button\n          type=\"primary\"\n          icon={<EditFilled />}\n          block\n        >编辑个人信息</Button>\n      </section>\n      <Descriptions\n        title=\"我的信息\"\n        bordered\n      >\n        <Descriptions.Item label=\"姓名\">{baseInfo.name}</Descriptions.Item>\n        <Descriptions.Item label={isStudent ? \"学号\" : \"工号\"}>{baseInfo.user_id}</Descriptions.Item>\n        <Descriptions.Item label=\"邮箱\">{baseInfo.email}</Descriptions.Item>\n        <Descriptions.Item label=\"手机号\">{baseInfo.phone}</Descriptions.Item>\n        <Descriptions.Item label={isStudent ? \"班级\" : \"职位\"} span={2}>\n          {positionInfo}\n        </Descriptions.Item>\n        <Descriptions.Item label=\"Status\" span={3}>\n          <Badge status=\"processing\" text=\"Running\" />\n        </Descriptions.Item>\n        <Descriptions.Item label=\"Negotiated Amount\">$80.00</Descriptions.Item>\n        <Descriptions.Item label=\"Discount\">$20.00</Descriptions.Item>\n        <Descriptions.Item label=\"Official Receipts\">$60.00</Descriptions.Item>\n        <Descriptions.Item label=\"Config Info\">\n          Data disk type: MongoDB\n      <br />\n      Database version: 3.4\n      <br />\n      Package: dds.mongo.mid\n      <br />\n      Storage space: 10 GB\n      <br />\n      Replication factor: 3\n      <br />\n      Region: East China 1<br />\n        </Descriptions.Item>\n      </Descriptions>\n    </div>\n  )\n};\n\nexport default UserInfo;","import { useAuth } from '@/context/auth.context';\r\nimport { Card } from 'antd';\r\nimport * as React from 'react';\r\nimport UserInfo from './components/user-info';\r\n\r\nexport interface IUserInfo extends IUser {\r\n\r\n}\r\n\r\nconst UserCenter: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const detailInfo: IStudentInfo = {\r\n    professional: \"软件工程\",\r\n    grade: 2018,\r\n    class: 6,\r\n    college: \"计算机学院\"\r\n  }\r\n  return (\r\n    <Card>\r\n      <UserInfo baseInfo={user} detailInfo={detailInfo} />\r\n    </Card>\r\n  )\r\n};\r\n\r\nexport default UserCenter;"],"names":["React.useMemo"],"mappings":"kSAWA,KAAM,GAA6B,AAAC,GAAU,MACtC,CAAE,WAAU,cAAe,EAC3B,EAAYA,kBAAc,IAAM,EAAS,WAAa,UAAW,CAAC,IAClE,EAAeA,kBACnB,IAAM,IACA,EAAS,WAAa,UAAW,MAC7B,GAAW,QACV,GAAG,EAAS,gBAAgB,EAAS,YAAY,EAAS,gBAE7D,GAAW,QACV,GAAG,EAAS,aAAa,EAAS,uBAAkB,EAAS,qBAAW,EAAS,6BAE1F,CAAC,EAAU,mCAEV,MAAD,CAAK,UAAW,EAAM,sCACnB,UAAD,CAAS,UAAW,EAAM,wCACvB,MAAD,CACE,UAAW,EAAM,cACjB,MAAO,CACL,gBAAiB,OAAO,EAAS,qCAIpC,EAAD,CACE,KAAK,UACL,6BAAO,EAAD,MACN,MAAK,IACN,iEAEF,EAAD,CACE,MAAM,2BACN,SAAQ,4BAEP,EAAa,KAAd,CAAmB,MAAM,gBAAM,EAAS,8BACvC,EAAa,KAAd,CAAmB,MAAO,EAAY,eAAO,gBAAO,EAAS,iCAC5D,EAAa,KAAd,CAAmB,MAAM,gBAAM,EAAS,+BACvC,EAAa,KAAd,CAAmB,MAAM,sBAAO,EAAS,+BACxC,EAAa,KAAd,CAAmB,MAAO,EAAY,eAAO,eAAM,KAAM,GACtD,2BAEF,EAAa,KAAd,CAAmB,MAAM,SAAS,KAAM,2BACrC,EAAD,CAAO,OAAO,aAAa,KAAK,qCAEjC,EAAa,KAAd,CAAmB,MAAM,qBAAoB,kCAC5C,EAAa,KAAd,CAAmB,MAAM,YAAW,kCACnC,EAAa,KAAd,CAAmB,MAAM,qBAAoB,kCAC5C,EAAa,KAAd,CAAmB,MAAM,eAAc,kDAExC,KAAD,MAAM,gDAEL,KAAD,MAAM,iDAEL,KAAD,MAAM,+CAEL,KAAD,MAAM,gDAEL,KAAD,MAAM,+CACe,KAAD,UC3DpB,EAAuB,IAAM,MAC3B,CAAE,QAAS,IACX,EAA2B,CAC/B,aAAc,2BACd,MAAO,KACP,MAAO,EACP,QAAS,iEAGR,EAAD,6BACG,EAAD,CAAU,SAAU,EAAM"}